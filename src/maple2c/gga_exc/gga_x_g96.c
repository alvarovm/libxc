/*
  This file was generated automatically with ../../scripts/maple2c.py.
  Do not edit this file directly as it can be overwritten!!

  This Source Code Form is subject to the terms of the Mozilla Public
  License, v. 2.0. If a copy of the MPL was not distributed with this
  file, You can obtain one at http://mozilla.org/MPL/2.0/.

  Maple version     : Maple 2016 (X86 64 LINUX)
  Maple source      : gga_x_g96.mpl
  Type of functional: gga_exc
*/

#define maple2c_order 4
#define MAPLE2C_FLAGS (XC_FLAGS_I_HAVE_EXC | XC_FLAGS_I_HAVE_VXC | XC_FLAGS_I_HAVE_FXC | XC_FLAGS_I_HAVE_KXC | XC_FLAGS_I_HAVE_LXC)


#ifndef XC_DONT_COMPILE_EXC
static inline void
func_exc_unpol(const xc_func_type *p, size_t ip, const double *rho, const double *sigma, xc_gga_out_params *out)
{
  double t2, t3, t4, t5, t6, t7, t8, t10;
  double t11, t13, t15, t17, t18, t20, t22, t23;
  double t25, t26, t27, t28, t31, t32, t33, t37;
  double t41, tzk0;


  t2 = rho[0] / 0.2e1 <= p->dens_threshold;
  t3 = M_CBRT3;
  t4 = M_CBRTPI;
  t5 = 0.1e1 / t4;
  t6 = t3 * t5;
  t7 = 0.1e1 <= p->zeta_threshold;
  t8 = p->zeta_threshold - 0.1e1;
  t10 = my_piecewise5(t7, t8, t7, -t8, 0);
  t11 = 0.1e1 + t10;
  t13 = POW_1_3(p->zeta_threshold);
  t15 = POW_1_3(t11);
  t17 = my_piecewise3(t11 <= p->zeta_threshold, t13 * p->zeta_threshold, t15 * t11);
  t18 = POW_1_3(rho[0]);
  t20 = t3 * t3;
  t22 = POW_1_3(0.1e1 / M_PI);
  t23 = 0.1e1 / t22;
  t25 = M_CBRT4;
  t26 = sqrt(sigma[0]);
  t27 = M_CBRT2;
  t28 = t26 * t27;
  t31 = t28 / t18 / rho[0];
  t32 = sqrt(t31);
  t33 = t32 * t31;
  t37 = 0.1e1 + 0.2e1 / 0.1233e4 * t20 * t23 * t25 * t33;
  t41 = my_piecewise3(t2, 0, -0.3e1 / 0.8e1 * t6 * t17 * t18 * t37);
  tzk0 = 0.2e1 * t41;

  if(out->zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    out->zk[ip*p->dim.zk + 0] += tzk0;

}

#endif


#ifndef XC_DONT_COMPILE_VXC
static inline void
func_vxc_unpol(const xc_func_type *p, size_t ip, const double *rho, const double *sigma, xc_gga_out_params *out)
{
  double t2, t3, t4, t5, t6, t7, t8, t10;
  double t11, t13, t15, t17, t18, t20, t22, t23;
  double t25, t26, t27, t28, t31, t32, t33, t37;
  double t41, tzk0;

  double t42, t48, t49, t52, t53, t54, t58, tvrho0;
  double t63, t64, t66, t69, tvsigma0;


  t2 = rho[0] / 0.2e1 <= p->dens_threshold;
  t3 = M_CBRT3;
  t4 = M_CBRTPI;
  t5 = 0.1e1 / t4;
  t6 = t3 * t5;
  t7 = 0.1e1 <= p->zeta_threshold;
  t8 = p->zeta_threshold - 0.1e1;
  t10 = my_piecewise5(t7, t8, t7, -t8, 0);
  t11 = 0.1e1 + t10;
  t13 = POW_1_3(p->zeta_threshold);
  t15 = POW_1_3(t11);
  t17 = my_piecewise3(t11 <= p->zeta_threshold, t13 * p->zeta_threshold, t15 * t11);
  t18 = POW_1_3(rho[0]);
  t20 = t3 * t3;
  t22 = POW_1_3(0.1e1 / M_PI);
  t23 = 0.1e1 / t22;
  t25 = M_CBRT4;
  t26 = sqrt(sigma[0]);
  t27 = M_CBRT2;
  t28 = t26 * t27;
  t31 = t28 / t18 / rho[0];
  t32 = sqrt(t31);
  t33 = t32 * t31;
  t37 = 0.1e1 + 0.2e1 / 0.1233e4 * t20 * t23 * t25 * t33;
  t41 = my_piecewise3(t2, 0, -0.3e1 / 0.8e1 * t6 * t17 * t18 * t37);
  tzk0 = 0.2e1 * t41;

  if(out->zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    out->zk[ip*p->dim.zk + 0] += tzk0;

  t42 = t18 * t18;
  t48 = t5 * t17;
  t49 = rho[0] * rho[0];
  t52 = t48 / t49 * t23;
  t53 = t25 * t32;
  t54 = t53 * t28;
  t58 = my_piecewise3(t2, 0, -t6 * t17 / t42 * t37 / 0.8e1 + t52 * t54 / 0.274e3);
  tvrho0 = 0.2e1 * rho[0] * t58 + 0.2e1 * t41;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vrho[ip*p->dim.vrho + 0] += tvrho0;

  t63 = t48 / rho[0] * t23;
  t64 = 0.1e1 / t26;
  t66 = t53 * t64 * t27;
  t69 = my_piecewise3(t2, 0, -0.3e1 / 0.2192e4 * t63 * t66);
  tvsigma0 = 0.2e1 * rho[0] * t69;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vsigma[ip*p->dim.vsigma + 0] += tvsigma0;

}

#endif


#ifndef XC_DONT_COMPILE_FXC
static inline void
func_fxc_unpol(const xc_func_type *p, size_t ip, const double *rho, const double *sigma, xc_gga_out_params *out)
{
  double t2, t3, t4, t5, t6, t7, t8, t10;
  double t11, t13, t15, t17, t18, t20, t22, t23;
  double t25, t26, t27, t28, t31, t32, t33, t37;
  double t41, tzk0;

  double t42, t48, t49, t52, t53, t54, t58, tvrho0;
  double t63, t64, t66, t69, tvsigma0;

  double t78, t81, t84, t86, t88, t89, t90, t91;
  double t92, t93, t97, tv2rho20, t103, t105, t107, t111;
  double tv2rhosigma0, t117, t118, t120, t123, t124, t126, t130;
  double tv2sigma20;


  t2 = rho[0] / 0.2e1 <= p->dens_threshold;
  t3 = M_CBRT3;
  t4 = M_CBRTPI;
  t5 = 0.1e1 / t4;
  t6 = t3 * t5;
  t7 = 0.1e1 <= p->zeta_threshold;
  t8 = p->zeta_threshold - 0.1e1;
  t10 = my_piecewise5(t7, t8, t7, -t8, 0);
  t11 = 0.1e1 + t10;
  t13 = POW_1_3(p->zeta_threshold);
  t15 = POW_1_3(t11);
  t17 = my_piecewise3(t11 <= p->zeta_threshold, t13 * p->zeta_threshold, t15 * t11);
  t18 = POW_1_3(rho[0]);
  t20 = t3 * t3;
  t22 = POW_1_3(0.1e1 / M_PI);
  t23 = 0.1e1 / t22;
  t25 = M_CBRT4;
  t26 = sqrt(sigma[0]);
  t27 = M_CBRT2;
  t28 = t26 * t27;
  t31 = t28 / t18 / rho[0];
  t32 = sqrt(t31);
  t33 = t32 * t31;
  t37 = 0.1e1 + 0.2e1 / 0.1233e4 * t20 * t23 * t25 * t33;
  t41 = my_piecewise3(t2, 0, -0.3e1 / 0.8e1 * t6 * t17 * t18 * t37);
  tzk0 = 0.2e1 * t41;

  if(out->zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    out->zk[ip*p->dim.zk + 0] += tzk0;

  t42 = t18 * t18;
  t48 = t5 * t17;
  t49 = rho[0] * rho[0];
  t52 = t48 / t49 * t23;
  t53 = t25 * t32;
  t54 = t53 * t28;
  t58 = my_piecewise3(t2, 0, -t6 * t17 / t42 * t37 / 0.8e1 + t52 * t54 / 0.274e3);
  tvrho0 = 0.2e1 * rho[0] * t58 + 0.2e1 * t41;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vrho[ip*p->dim.vrho + 0] += tvrho0;

  t63 = t48 / rho[0] * t23;
  t64 = 0.1e1 / t26;
  t66 = t53 * t64 * t27;
  t69 = my_piecewise3(t2, 0, -0.3e1 / 0.2192e4 * t63 * t66);
  tvsigma0 = 0.2e1 * rho[0] * t69;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vsigma[ip*p->dim.vsigma + 0] += tvsigma0;

  t78 = t49 * rho[0];
  t81 = t48 / t78 * t23;
  t84 = t49 * t49;
  t86 = 0.1e1 / t18 / t84;
  t88 = t48 * t86 * t23;
  t89 = 0.1e1 / t32;
  t90 = t25 * t89;
  t91 = t27 * t27;
  t92 = sigma[0] * t91;
  t93 = t90 * t92;
  t97 = my_piecewise3(t2, 0, t6 * t17 / t42 / rho[0] * t37 / 0.12e2 - 0.5e1 / 0.822e3 * t81 * t54 - t88 * t93 / 0.411e3);
  tv2rho20 = 0.2e1 * rho[0] * t97 + 0.4e1 * t58;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rho2[ip*p->dim.v2rho2 + 0] += tv2rho20;

  t103 = 0.1e1 / t18 / t78;
  t105 = t23 * t25;
  t107 = t105 * t89 * t91;
  t111 = my_piecewise3(t2, 0, 0.3e1 / 0.2192e4 * t52 * t66 + t48 * t103 * t107 / 0.1096e4);
  tv2rhosigma0 = 0.2e1 * rho[0] * t111 + 0.2e1 * t69;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 0] += tv2rhosigma0;

  t117 = t48 / t18 / t49 * t23;
  t118 = 0.1e1 / sigma[0];
  t120 = t90 * t118 * t91;
  t123 = t26 * sigma[0];
  t124 = 0.1e1 / t123;
  t126 = t53 * t124 * t27;
  t130 = my_piecewise3(t2, 0, -0.3e1 / 0.8768e4 * t117 * t120 + 0.3e1 / 0.4384e4 * t63 * t126);
  tv2sigma20 = 0.2e1 * rho[0] * t130;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 0] += tv2sigma20;

}

#endif


#ifndef XC_DONT_COMPILE_KXC
static inline void
func_kxc_unpol(const xc_func_type *p, size_t ip, const double *rho, const double *sigma, xc_gga_out_params *out)
{
  double t2, t3, t4, t5, t6, t7, t8, t10;
  double t11, t13, t15, t17, t18, t20, t22, t23;
  double t25, t26, t27, t28, t31, t32, t33, t37;
  double t41, tzk0;

  double t42, t48, t49, t52, t53, t54, t58, tvrho0;
  double t63, t64, t66, t69, tvsigma0;

  double t78, t81, t84, t86, t88, t89, t90, t91;
  double t92, t93, t97, tv2rho20, t103, t105, t107, t111;
  double tv2rhosigma0, t117, t118, t120, t123, t124, t126, t130;
  double tv2sigma20;

  double t134, t141, t144, t146, t151, t154, t155, t157;
  double t161, tv3rho30, t172, t174, t178, tv3rho2sigma0, t182, t187;
  double t189, t195, tv3rhosigma20, t199, t200, t202, t205, t206;
  double t208, t212, t214, t218, tv3sigma30;


  t2 = rho[0] / 0.2e1 <= p->dens_threshold;
  t3 = M_CBRT3;
  t4 = M_CBRTPI;
  t5 = 0.1e1 / t4;
  t6 = t3 * t5;
  t7 = 0.1e1 <= p->zeta_threshold;
  t8 = p->zeta_threshold - 0.1e1;
  t10 = my_piecewise5(t7, t8, t7, -t8, 0);
  t11 = 0.1e1 + t10;
  t13 = POW_1_3(p->zeta_threshold);
  t15 = POW_1_3(t11);
  t17 = my_piecewise3(t11 <= p->zeta_threshold, t13 * p->zeta_threshold, t15 * t11);
  t18 = POW_1_3(rho[0]);
  t20 = t3 * t3;
  t22 = POW_1_3(0.1e1 / M_PI);
  t23 = 0.1e1 / t22;
  t25 = M_CBRT4;
  t26 = sqrt(sigma[0]);
  t27 = M_CBRT2;
  t28 = t26 * t27;
  t31 = t28 / t18 / rho[0];
  t32 = sqrt(t31);
  t33 = t32 * t31;
  t37 = 0.1e1 + 0.2e1 / 0.1233e4 * t20 * t23 * t25 * t33;
  t41 = my_piecewise3(t2, 0, -0.3e1 / 0.8e1 * t6 * t17 * t18 * t37);
  tzk0 = 0.2e1 * t41;

  if(out->zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    out->zk[ip*p->dim.zk + 0] += tzk0;

  t42 = t18 * t18;
  t48 = t5 * t17;
  t49 = rho[0] * rho[0];
  t52 = t48 / t49 * t23;
  t53 = t25 * t32;
  t54 = t53 * t28;
  t58 = my_piecewise3(t2, 0, -t6 * t17 / t42 * t37 / 0.8e1 + t52 * t54 / 0.274e3);
  tvrho0 = 0.2e1 * rho[0] * t58 + 0.2e1 * t41;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vrho[ip*p->dim.vrho + 0] += tvrho0;

  t63 = t48 / rho[0] * t23;
  t64 = 0.1e1 / t26;
  t66 = t53 * t64 * t27;
  t69 = my_piecewise3(t2, 0, -0.3e1 / 0.2192e4 * t63 * t66);
  tvsigma0 = 0.2e1 * rho[0] * t69;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vsigma[ip*p->dim.vsigma + 0] += tvsigma0;

  t78 = t49 * rho[0];
  t81 = t48 / t78 * t23;
  t84 = t49 * t49;
  t86 = 0.1e1 / t18 / t84;
  t88 = t48 * t86 * t23;
  t89 = 0.1e1 / t32;
  t90 = t25 * t89;
  t91 = t27 * t27;
  t92 = sigma[0] * t91;
  t93 = t90 * t92;
  t97 = my_piecewise3(t2, 0, t6 * t17 / t42 / rho[0] * t37 / 0.12e2 - 0.5e1 / 0.822e3 * t81 * t54 - t88 * t93 / 0.411e3);
  tv2rho20 = 0.2e1 * rho[0] * t97 + 0.4e1 * t58;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rho2[ip*p->dim.v2rho2 + 0] += tv2rho20;

  t103 = 0.1e1 / t18 / t78;
  t105 = t23 * t25;
  t107 = t105 * t89 * t91;
  t111 = my_piecewise3(t2, 0, 0.3e1 / 0.2192e4 * t52 * t66 + t48 * t103 * t107 / 0.1096e4);
  tv2rhosigma0 = 0.2e1 * rho[0] * t111 + 0.2e1 * t69;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 0] += tv2rhosigma0;

  t117 = t48 / t18 / t49 * t23;
  t118 = 0.1e1 / sigma[0];
  t120 = t90 * t118 * t91;
  t123 = t26 * sigma[0];
  t124 = 0.1e1 / t123;
  t126 = t53 * t124 * t27;
  t130 = my_piecewise3(t2, 0, -0.3e1 / 0.8768e4 * t117 * t120 + 0.3e1 / 0.4384e4 * t63 * t126);
  tv2sigma20 = 0.2e1 * rho[0] * t130;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 0] += tv2sigma20;

  t134 = 0.1e1 / t42 / t49;
  t141 = t48 / t84 * t23;
  t144 = t84 * rho[0];
  t146 = 0.1e1 / t18 / t144;
  t151 = t84 * t49;
  t154 = t48 / t42 / t151;
  t155 = 0.1e1 / t33;
  t157 = t105 * t155 * t123;
  t161 = my_piecewise3(t2, 0, -0.5e1 / 0.36e2 * t6 * t17 * t134 * t37 + 0.43e2 / 0.2466e4 * t141 * t54 + 0.2e1 / 0.137e3 * t48 * t146 * t23 * t93 - 0.4e1 / 0.1233e4 * t154 * t157);
  tv3rho30 = 0.2e1 * rho[0] * t161 + 0.6e1 * t97;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho3[ip*p->dim.v3rho3 + 0] += tv3rho30;

  t172 = t48 / t42 / t144;
  t174 = t105 * t155 * t26;
  t178 = my_piecewise3(t2, 0, -0.3e1 / 0.1096e4 * t81 * t66 - 0.13e2 / 0.3288e4 * t48 * t86 * t107 + t172 * t174 / 0.822e3);
  tv3rho2sigma0 = 0.2e1 * rho[0] * t178 + 0.4e1 * t111;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 0] += tv3rho2sigma0;

  t182 = t48 * t103 * t23;
  t187 = t48 / t42 / t84;
  t189 = t105 * t155 * t64;
  t195 = my_piecewise3(t2, 0, 0.3e1 / 0.8768e4 * t182 * t120 - t187 * t189 / 0.2192e4 - 0.3e1 / 0.4384e4 * t52 * t126);
  tv3rhosigma20 = 0.2e1 * rho[0] * t195 + 0.2e1 * t130;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 0] += tv3rhosigma20;

  t199 = 0.1e1 / t42 / t78;
  t200 = t48 * t199;
  t202 = t105 * t155 * t124;
  t205 = sigma[0] * sigma[0];
  t206 = 0.1e1 / t205;
  t208 = t90 * t206 * t91;
  t212 = 0.1e1 / t26 / t205;
  t214 = t53 * t212 * t27;
  t218 = my_piecewise3(t2, 0, 0.3e1 / 0.17536e5 * t200 * t202 + 0.9e1 / 0.17536e5 * t117 * t208 - 0.9e1 / 0.8768e4 * t63 * t214);
  tv3sigma30 = 0.2e1 * rho[0] * t218;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 0] += tv3sigma30;

}

#endif


#ifndef XC_DONT_COMPILE_LXC
static inline void
func_lxc_unpol(const xc_func_type *p, size_t ip, const double *rho, const double *sigma, xc_gga_out_params *out)
{
  double t2, t3, t4, t5, t6, t7, t8, t10;
  double t11, t13, t15, t17, t18, t20, t22, t23;
  double t25, t26, t27, t28, t31, t32, t33, t37;
  double t41, tzk0;

  double t42, t48, t49, t52, t53, t54, t58, tvrho0;
  double t63, t64, t66, t69, tvsigma0;

  double t78, t81, t84, t86, t88, t89, t90, t91;
  double t92, t93, t97, tv2rho20, t103, t105, t107, t111;
  double tv2rhosigma0, t117, t118, t120, t123, t124, t126, t130;
  double tv2sigma20;

  double t134, t141, t144, t146, t151, t154, t155, t157;
  double t161, tv3rho30, t172, t174, t178, tv3rho2sigma0, t182, t187;
  double t189, t195, tv3rhosigma20, t199, t200, t202, t205, t206;
  double t208, t212, t214, t218, tv3sigma30;

  double t227, t236, t242, t249, t250, t256, tv4rho40, t275;
  double tv4rho3sigma0, t292, tv4rho2sigma20, t309, tv4rhosigma30, t320, t333, tv4sigma40;


  t2 = rho[0] / 0.2e1 <= p->dens_threshold;
  t3 = M_CBRT3;
  t4 = M_CBRTPI;
  t5 = 0.1e1 / t4;
  t6 = t3 * t5;
  t7 = 0.1e1 <= p->zeta_threshold;
  t8 = p->zeta_threshold - 0.1e1;
  t10 = my_piecewise5(t7, t8, t7, -t8, 0);
  t11 = 0.1e1 + t10;
  t13 = POW_1_3(p->zeta_threshold);
  t15 = POW_1_3(t11);
  t17 = my_piecewise3(t11 <= p->zeta_threshold, t13 * p->zeta_threshold, t15 * t11);
  t18 = POW_1_3(rho[0]);
  t20 = t3 * t3;
  t22 = POW_1_3(0.1e1 / M_PI);
  t23 = 0.1e1 / t22;
  t25 = M_CBRT4;
  t26 = sqrt(sigma[0]);
  t27 = M_CBRT2;
  t28 = t26 * t27;
  t31 = t28 / t18 / rho[0];
  t32 = sqrt(t31);
  t33 = t32 * t31;
  t37 = 0.1e1 + 0.2e1 / 0.1233e4 * t20 * t23 * t25 * t33;
  t41 = my_piecewise3(t2, 0, -0.3e1 / 0.8e1 * t6 * t17 * t18 * t37);
  tzk0 = 0.2e1 * t41;

  if(out->zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    out->zk[ip*p->dim.zk + 0] += tzk0;

  t42 = t18 * t18;
  t48 = t5 * t17;
  t49 = rho[0] * rho[0];
  t52 = t48 / t49 * t23;
  t53 = t25 * t32;
  t54 = t53 * t28;
  t58 = my_piecewise3(t2, 0, -t6 * t17 / t42 * t37 / 0.8e1 + t52 * t54 / 0.274e3);
  tvrho0 = 0.2e1 * rho[0] * t58 + 0.2e1 * t41;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vrho[ip*p->dim.vrho + 0] += tvrho0;

  t63 = t48 / rho[0] * t23;
  t64 = 0.1e1 / t26;
  t66 = t53 * t64 * t27;
  t69 = my_piecewise3(t2, 0, -0.3e1 / 0.2192e4 * t63 * t66);
  tvsigma0 = 0.2e1 * rho[0] * t69;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vsigma[ip*p->dim.vsigma + 0] += tvsigma0;

  t78 = t49 * rho[0];
  t81 = t48 / t78 * t23;
  t84 = t49 * t49;
  t86 = 0.1e1 / t18 / t84;
  t88 = t48 * t86 * t23;
  t89 = 0.1e1 / t32;
  t90 = t25 * t89;
  t91 = t27 * t27;
  t92 = sigma[0] * t91;
  t93 = t90 * t92;
  t97 = my_piecewise3(t2, 0, t6 * t17 / t42 / rho[0] * t37 / 0.12e2 - 0.5e1 / 0.822e3 * t81 * t54 - t88 * t93 / 0.411e3);
  tv2rho20 = 0.2e1 * rho[0] * t97 + 0.4e1 * t58;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rho2[ip*p->dim.v2rho2 + 0] += tv2rho20;

  t103 = 0.1e1 / t18 / t78;
  t105 = t23 * t25;
  t107 = t105 * t89 * t91;
  t111 = my_piecewise3(t2, 0, 0.3e1 / 0.2192e4 * t52 * t66 + t48 * t103 * t107 / 0.1096e4);
  tv2rhosigma0 = 0.2e1 * rho[0] * t111 + 0.2e1 * t69;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 0] += tv2rhosigma0;

  t117 = t48 / t18 / t49 * t23;
  t118 = 0.1e1 / sigma[0];
  t120 = t90 * t118 * t91;
  t123 = t26 * sigma[0];
  t124 = 0.1e1 / t123;
  t126 = t53 * t124 * t27;
  t130 = my_piecewise3(t2, 0, -0.3e1 / 0.8768e4 * t117 * t120 + 0.3e1 / 0.4384e4 * t63 * t126);
  tv2sigma20 = 0.2e1 * rho[0] * t130;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 0] += tv2sigma20;

  t134 = 0.1e1 / t42 / t49;
  t141 = t48 / t84 * t23;
  t144 = t84 * rho[0];
  t146 = 0.1e1 / t18 / t144;
  t151 = t84 * t49;
  t154 = t48 / t42 / t151;
  t155 = 0.1e1 / t33;
  t157 = t105 * t155 * t123;
  t161 = my_piecewise3(t2, 0, -0.5e1 / 0.36e2 * t6 * t17 * t134 * t37 + 0.43e2 / 0.2466e4 * t141 * t54 + 0.2e1 / 0.137e3 * t48 * t146 * t23 * t93 - 0.4e1 / 0.1233e4 * t154 * t157);
  tv3rho30 = 0.2e1 * rho[0] * t161 + 0.6e1 * t97;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho3[ip*p->dim.v3rho3 + 0] += tv3rho30;

  t172 = t48 / t42 / t144;
  t174 = t105 * t155 * t26;
  t178 = my_piecewise3(t2, 0, -0.3e1 / 0.1096e4 * t81 * t66 - 0.13e2 / 0.3288e4 * t48 * t86 * t107 + t172 * t174 / 0.822e3);
  tv3rho2sigma0 = 0.2e1 * rho[0] * t178 + 0.4e1 * t111;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 0] += tv3rho2sigma0;

  t182 = t48 * t103 * t23;
  t187 = t48 / t42 / t84;
  t189 = t105 * t155 * t64;
  t195 = my_piecewise3(t2, 0, 0.3e1 / 0.8768e4 * t182 * t120 - t187 * t189 / 0.2192e4 - 0.3e1 / 0.4384e4 * t52 * t126);
  tv3rhosigma20 = 0.2e1 * rho[0] * t195 + 0.2e1 * t130;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 0] += tv3rhosigma20;

  t199 = 0.1e1 / t42 / t78;
  t200 = t48 * t199;
  t202 = t105 * t155 * t124;
  t205 = sigma[0] * sigma[0];
  t206 = 0.1e1 / t205;
  t208 = t90 * t206 * t91;
  t212 = 0.1e1 / t26 / t205;
  t214 = t53 * t212 * t27;
  t218 = my_piecewise3(t2, 0, 0.3e1 / 0.17536e5 * t200 * t202 + 0.9e1 / 0.17536e5 * t117 * t208 - 0.9e1 / 0.8768e4 * t63 * t214);
  tv3sigma30 = 0.2e1 * rho[0] * t218;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 0] += tv3sigma30;

  t227 = t48 / t144 * t23;
  t236 = t84 * t78;
  t242 = t84 * t84;
  t249 = 0.1e1 / t32 / t92 / t134;
  t250 = t25 * t249;
  t256 = my_piecewise3(t2, 0, 0.1e2 / 0.27e2 * t6 * t17 * t199 * t37 - 0.253e3 / 0.3699e4 * t227 * t54 - 0.331e3 / 0.3699e4 * t48 / t18 / t151 * t23 * t93 + 0.152e3 / 0.3699e4 * t48 / t42 / t236 * t157 - 0.8e1 / 0.1233e4 * t48 / t242 / rho[0] * t23 * t250 * t205 * t27);
  tv4rho40 = 0.2e1 * rho[0] * t256 + 0.8e1 * t161;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho4[ip*p->dim.v4rho4 + 0] += tv4rho40;

  t275 = my_piecewise3(t2, 0, 0.9e1 / 0.1096e4 * t141 * t66 + 0.187e3 / 0.9864e4 * t48 * t146 * t107 - 0.5e1 / 0.411e3 * t154 * t174 + t48 / t242 * t23 * t250 * sigma[0] * t27 / 0.411e3);
  tv4rho3sigma0 = 0.2e1 * rho[0] * t275 + 0.6e1 * t178;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho3sigma[ip*p->dim.v4rho3sigma + 0] += tv4rho3sigma0;

  t292 = my_piecewise3(t2, 0, -0.3e1 / 0.4384e4 * t88 * t120 + 0.17e2 / 0.6576e4 * t172 * t189 - t48 / t236 * t105 * t249 * t27 / 0.1096e4 + 0.3e1 / 0.2192e4 * t81 * t126);
  tv4rho2sigma20 = 0.2e1 * rho[0] * t292 + 0.4e1 * t195;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho2sigma2[ip*p->dim.v4rho2sigma2 + 0] += tv4rho2sigma20;

  t309 = my_piecewise3(t2, 0, t187 * t202 / 0.17536e5 + 0.3e1 / 0.8768e4 * t48 / t151 * t23 * t250 * t118 * t27 - 0.9e1 / 0.17536e5 * t182 * t208 + 0.9e1 / 0.8768e4 * t52 * t214);
  tv4rhosigma30 = 0.2e1 * rho[0] * t309 + 0.2e1 * t218;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 0] += tv4rhosigma30;

  t320 = t205 * sigma[0];
  t333 = my_piecewise3(t2, 0, -0.9e1 / 0.70144e5 * t227 * t250 * t206 * t27 - 0.9e1 / 0.17536e5 * t200 * t105 * t155 * t212 - 0.45e2 / 0.35072e5 * t117 * t90 / t320 * t91 + 0.45e2 / 0.17536e5 * t63 * t53 / t26 / t320 * t27);
  tv4sigma40 = 0.2e1 * rho[0] * t333;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4sigma4[ip*p->dim.v4sigma4 + 0] += tv4sigma40;

}

#endif


#ifndef XC_DONT_COMPILE_EXC
static inline void
func_exc_pol(const xc_func_type *p, size_t ip, const double *rho, const double *sigma, xc_gga_out_params *out)
{
  double t1, t2, t3, t4, t5, t6, t7, t10;
  double t11, t14, t15, t16, t17, t18, t19, t20;
  double t21, t22, t23, t25, t26, t28, t30, t31;
  double t32, t33, t34, t35, t37, t38, t39, t40;
  double t44, t48, t49, t50, t51, t52, t53, t55;
  double t57, t58, t60, t61, t62, t63, t67, t71;
  double tzk0;


  t1 = rho[0] <= p->dens_threshold;
  t2 = M_CBRT3;
  t3 = M_CBRTPI;
  t4 = 0.1e1 / t3;
  t5 = t2 * t4;
  t6 = rho[0] + rho[1];
  t7 = 0.1e1 / t6;
  t10 = 0.2e1 * rho[0] * t7 <= p->zeta_threshold;
  t11 = p->zeta_threshold - 0.1e1;
  t14 = 0.2e1 * rho[1] * t7 <= p->zeta_threshold;
  t15 = -t11;
  t16 = rho[0] - rho[1];
  t17 = t16 * t7;
  t18 = my_piecewise5(t10, t11, t14, t15, t17);
  t19 = 0.1e1 + t18;
  t20 = t19 <= p->zeta_threshold;
  t21 = POW_1_3(p->zeta_threshold);
  t22 = t21 * p->zeta_threshold;
  t23 = POW_1_3(t19);
  t25 = my_piecewise3(t20, t22, t23 * t19);
  t26 = POW_1_3(t6);
  t28 = t2 * t2;
  t30 = POW_1_3(0.1e1 / M_PI);
  t31 = 0.1e1 / t30;
  t32 = t28 * t31;
  t33 = M_CBRT4;
  t34 = sqrt(sigma[0]);
  t35 = POW_1_3(rho[0]);
  t37 = 0.1e1 / t35 / rho[0];
  t38 = t34 * t37;
  t39 = sqrt(t38);
  t40 = t39 * t38;
  t44 = 0.1e1 + 0.2e1 / 0.1233e4 * t32 * t33 * t40;
  t48 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t25 * t26 * t44);
  t49 = rho[1] <= p->dens_threshold;
  t50 = my_piecewise5(t14, t11, t10, t15, -t17);
  t51 = 0.1e1 + t50;
  t52 = t51 <= p->zeta_threshold;
  t53 = POW_1_3(t51);
  t55 = my_piecewise3(t52, t22, t53 * t51);
  t57 = sqrt(sigma[2]);
  t58 = POW_1_3(rho[1]);
  t60 = 0.1e1 / t58 / rho[1];
  t61 = t57 * t60;
  t62 = sqrt(t61);
  t63 = t62 * t61;
  t67 = 0.1e1 + 0.2e1 / 0.1233e4 * t32 * t33 * t63;
  t71 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t55 * t26 * t67);
  tzk0 = t48 + t71;

  if(out->zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    out->zk[ip*p->dim.zk + 0] += tzk0;

}

#endif


#ifndef XC_DONT_COMPILE_VXC
static inline void
func_vxc_pol(const xc_func_type *p, size_t ip, const double *rho, const double *sigma, xc_gga_out_params *out)
{
  double t1, t2, t3, t4, t5, t6, t7, t10;
  double t11, t14, t15, t16, t17, t18, t19, t20;
  double t21, t22, t23, t25, t26, t28, t30, t31;
  double t32, t33, t34, t35, t37, t38, t39, t40;
  double t44, t48, t49, t50, t51, t52, t53, t55;
  double t57, t58, t60, t61, t62, t63, t67, t71;
  double tzk0;

  double t72, t73, t74, t75, t76, t79, t84, t85;
  double t89, t90, t91, t92, t93, t94, t96, t98;
  double t102, t104, t107, t115, t117, tvrho0, t120, t121;
  double t124, t130, t132, t135, t140, t141, t142, t143;
  double t145, t147, t151, tvrho1, t154, t156, t159, tvsigma0;
  double tvsigma1, t160, t162, t165, tvsigma2;


  t1 = rho[0] <= p->dens_threshold;
  t2 = M_CBRT3;
  t3 = M_CBRTPI;
  t4 = 0.1e1 / t3;
  t5 = t2 * t4;
  t6 = rho[0] + rho[1];
  t7 = 0.1e1 / t6;
  t10 = 0.2e1 * rho[0] * t7 <= p->zeta_threshold;
  t11 = p->zeta_threshold - 0.1e1;
  t14 = 0.2e1 * rho[1] * t7 <= p->zeta_threshold;
  t15 = -t11;
  t16 = rho[0] - rho[1];
  t17 = t16 * t7;
  t18 = my_piecewise5(t10, t11, t14, t15, t17);
  t19 = 0.1e1 + t18;
  t20 = t19 <= p->zeta_threshold;
  t21 = POW_1_3(p->zeta_threshold);
  t22 = t21 * p->zeta_threshold;
  t23 = POW_1_3(t19);
  t25 = my_piecewise3(t20, t22, t23 * t19);
  t26 = POW_1_3(t6);
  t28 = t2 * t2;
  t30 = POW_1_3(0.1e1 / M_PI);
  t31 = 0.1e1 / t30;
  t32 = t28 * t31;
  t33 = M_CBRT4;
  t34 = sqrt(sigma[0]);
  t35 = POW_1_3(rho[0]);
  t37 = 0.1e1 / t35 / rho[0];
  t38 = t34 * t37;
  t39 = sqrt(t38);
  t40 = t39 * t38;
  t44 = 0.1e1 + 0.2e1 / 0.1233e4 * t32 * t33 * t40;
  t48 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t25 * t26 * t44);
  t49 = rho[1] <= p->dens_threshold;
  t50 = my_piecewise5(t14, t11, t10, t15, -t17);
  t51 = 0.1e1 + t50;
  t52 = t51 <= p->zeta_threshold;
  t53 = POW_1_3(t51);
  t55 = my_piecewise3(t52, t22, t53 * t51);
  t57 = sqrt(sigma[2]);
  t58 = POW_1_3(rho[1]);
  t60 = 0.1e1 / t58 / rho[1];
  t61 = t57 * t60;
  t62 = sqrt(t61);
  t63 = t62 * t61;
  t67 = 0.1e1 + 0.2e1 / 0.1233e4 * t32 * t33 * t63;
  t71 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t55 * t26 * t67);
  tzk0 = t48 + t71;

  if(out->zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    out->zk[ip*p->dim.zk + 0] += tzk0;

  t72 = t6 * t6;
  t73 = 0.1e1 / t72;
  t74 = t16 * t73;
  t75 = t7 - t74;
  t76 = my_piecewise5(t10, 0, t14, 0, t75);
  t79 = my_piecewise3(t20, 0, 0.4e1 / 0.3e1 * t23 * t76);
  t84 = t26 * t26;
  t85 = 0.1e1 / t84;
  t89 = t5 * t25 * t85 * t44 / 0.8e1;
  t90 = t4 * t25;
  t91 = t26 * t31;
  t92 = t90 * t91;
  t93 = t33 * t39;
  t94 = rho[0] * rho[0];
  t96 = 0.1e1 / t35 / t94;
  t98 = t93 * t34 * t96;
  t102 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t79 * t26 * t44 - t89 + t92 * t98 / 0.274e3);
  t104 = my_piecewise5(t14, 0, t10, 0, -t75);
  t107 = my_piecewise3(t52, 0, 0.4e1 / 0.3e1 * t53 * t104);
  t115 = t5 * t55 * t85 * t67 / 0.8e1;
  t117 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t107 * t26 * t67 - t115);
  tvrho0 = t48 + t71 + t6 * (t102 + t117);

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vrho[ip*p->dim.vrho + 0] += tvrho0;

  t120 = -t7 - t74;
  t121 = my_piecewise5(t10, 0, t14, 0, t120);
  t124 = my_piecewise3(t20, 0, 0.4e1 / 0.3e1 * t23 * t121);
  t130 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t124 * t26 * t44 - t89);
  t132 = my_piecewise5(t14, 0, t10, 0, -t120);
  t135 = my_piecewise3(t52, 0, 0.4e1 / 0.3e1 * t53 * t132);
  t140 = t4 * t55;
  t141 = t140 * t91;
  t142 = t33 * t62;
  t143 = rho[1] * rho[1];
  t145 = 0.1e1 / t58 / t143;
  t147 = t142 * t57 * t145;
  t151 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t135 * t26 * t67 - t115 + t141 * t147 / 0.274e3);
  tvrho1 = t48 + t71 + t6 * (t130 + t151);

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vrho[ip*p->dim.vrho + 1] += tvrho1;

  t154 = 0.1e1 / t34;
  t156 = t93 * t154 * t37;
  t159 = my_piecewise3(t1, 0, -0.3e1 / 0.2192e4 * t92 * t156);
  tvsigma0 = t6 * t159;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vsigma[ip*p->dim.vsigma + 0] += tvsigma0;

  tvsigma1 = 0.e0;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vsigma[ip*p->dim.vsigma + 1] += tvsigma1;

  t160 = 0.1e1 / t57;
  t162 = t142 * t160 * t60;
  t165 = my_piecewise3(t49, 0, -0.3e1 / 0.2192e4 * t141 * t162);
  tvsigma2 = t6 * t165;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vsigma[ip*p->dim.vsigma + 2] += tvsigma2;

}

#endif


#ifndef XC_DONT_COMPILE_FXC
static inline void
func_fxc_pol(const xc_func_type *p, size_t ip, const double *rho, const double *sigma, xc_gga_out_params *out)
{
  double t1, t2, t3, t4, t5, t6, t7, t10;
  double t11, t14, t15, t16, t17, t18, t19, t20;
  double t21, t22, t23, t25, t26, t28, t30, t31;
  double t32, t33, t34, t35, t37, t38, t39, t40;
  double t44, t48, t49, t50, t51, t52, t53, t55;
  double t57, t58, t60, t61, t62, t63, t67, t71;
  double tzk0;

  double t72, t73, t74, t75, t76, t79, t84, t85;
  double t89, t90, t91, t92, t93, t94, t96, t98;
  double t102, t104, t107, t115, t117, tvrho0, t120, t121;
  double t124, t130, t132, t135, t140, t141, t142, t143;
  double t145, t147, t151, tvrho1, t154, t156, t159, tvsigma0;
  double tvsigma1, t160, t162, t165, tvsigma2;

  double t168, t169, t170, t173, t174, t175, t177, t178;
  double t182, t189, t191, t192, t196, t200, t201, t202;
  double t203, t205, t206, t207, t208, t210, t212, t215;
  double t217, t219, t223, t224, t225, t226, t230, t234;
  double t241, t246, t248, tv2rho20, t251, t254, t255, t259;
  double t266, t268, t269, t275, t276, t279, t283, t290;
  double t293, t294, t297, t298, t301, tv2rho21, t306, t310;
  double t311, t315, t322, t323, t327, t331, t337, t338;
  double t342, t343, t344, t345, t347, t349, t352, t354;
  double t356, t360, tv2rho22, t366, t367, t368, t370, t372;
  double t376, t380, tv2rhosigma0, tv2rhosigma1, t385, t387, tv2rhosigma2, t392;
  double tv2rhosigma3, tv2rhosigma4, t396, t398, t400, t404, t408, tv2rhosigma5;
  double t410, t412, t414, t417, t418, t420, t424, tv2sigma20;
  double tv2sigma21, tv2sigma22, tv2sigma23, tv2sigma24, t425, t427, t429, t432;
  double t433, t435, t439, tv2sigma25;


  t1 = rho[0] <= p->dens_threshold;
  t2 = M_CBRT3;
  t3 = M_CBRTPI;
  t4 = 0.1e1 / t3;
  t5 = t2 * t4;
  t6 = rho[0] + rho[1];
  t7 = 0.1e1 / t6;
  t10 = 0.2e1 * rho[0] * t7 <= p->zeta_threshold;
  t11 = p->zeta_threshold - 0.1e1;
  t14 = 0.2e1 * rho[1] * t7 <= p->zeta_threshold;
  t15 = -t11;
  t16 = rho[0] - rho[1];
  t17 = t16 * t7;
  t18 = my_piecewise5(t10, t11, t14, t15, t17);
  t19 = 0.1e1 + t18;
  t20 = t19 <= p->zeta_threshold;
  t21 = POW_1_3(p->zeta_threshold);
  t22 = t21 * p->zeta_threshold;
  t23 = POW_1_3(t19);
  t25 = my_piecewise3(t20, t22, t23 * t19);
  t26 = POW_1_3(t6);
  t28 = t2 * t2;
  t30 = POW_1_3(0.1e1 / M_PI);
  t31 = 0.1e1 / t30;
  t32 = t28 * t31;
  t33 = M_CBRT4;
  t34 = sqrt(sigma[0]);
  t35 = POW_1_3(rho[0]);
  t37 = 0.1e1 / t35 / rho[0];
  t38 = t34 * t37;
  t39 = sqrt(t38);
  t40 = t39 * t38;
  t44 = 0.1e1 + 0.2e1 / 0.1233e4 * t32 * t33 * t40;
  t48 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t25 * t26 * t44);
  t49 = rho[1] <= p->dens_threshold;
  t50 = my_piecewise5(t14, t11, t10, t15, -t17);
  t51 = 0.1e1 + t50;
  t52 = t51 <= p->zeta_threshold;
  t53 = POW_1_3(t51);
  t55 = my_piecewise3(t52, t22, t53 * t51);
  t57 = sqrt(sigma[2]);
  t58 = POW_1_3(rho[1]);
  t60 = 0.1e1 / t58 / rho[1];
  t61 = t57 * t60;
  t62 = sqrt(t61);
  t63 = t62 * t61;
  t67 = 0.1e1 + 0.2e1 / 0.1233e4 * t32 * t33 * t63;
  t71 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t55 * t26 * t67);
  tzk0 = t48 + t71;

  if(out->zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    out->zk[ip*p->dim.zk + 0] += tzk0;

  t72 = t6 * t6;
  t73 = 0.1e1 / t72;
  t74 = t16 * t73;
  t75 = t7 - t74;
  t76 = my_piecewise5(t10, 0, t14, 0, t75);
  t79 = my_piecewise3(t20, 0, 0.4e1 / 0.3e1 * t23 * t76);
  t84 = t26 * t26;
  t85 = 0.1e1 / t84;
  t89 = t5 * t25 * t85 * t44 / 0.8e1;
  t90 = t4 * t25;
  t91 = t26 * t31;
  t92 = t90 * t91;
  t93 = t33 * t39;
  t94 = rho[0] * rho[0];
  t96 = 0.1e1 / t35 / t94;
  t98 = t93 * t34 * t96;
  t102 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t79 * t26 * t44 - t89 + t92 * t98 / 0.274e3);
  t104 = my_piecewise5(t14, 0, t10, 0, -t75);
  t107 = my_piecewise3(t52, 0, 0.4e1 / 0.3e1 * t53 * t104);
  t115 = t5 * t55 * t85 * t67 / 0.8e1;
  t117 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t107 * t26 * t67 - t115);
  tvrho0 = t48 + t71 + t6 * (t102 + t117);

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vrho[ip*p->dim.vrho + 0] += tvrho0;

  t120 = -t7 - t74;
  t121 = my_piecewise5(t10, 0, t14, 0, t120);
  t124 = my_piecewise3(t20, 0, 0.4e1 / 0.3e1 * t23 * t121);
  t130 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t124 * t26 * t44 - t89);
  t132 = my_piecewise5(t14, 0, t10, 0, -t120);
  t135 = my_piecewise3(t52, 0, 0.4e1 / 0.3e1 * t53 * t132);
  t140 = t4 * t55;
  t141 = t140 * t91;
  t142 = t33 * t62;
  t143 = rho[1] * rho[1];
  t145 = 0.1e1 / t58 / t143;
  t147 = t142 * t57 * t145;
  t151 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t135 * t26 * t67 - t115 + t141 * t147 / 0.274e3);
  tvrho1 = t48 + t71 + t6 * (t130 + t151);

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vrho[ip*p->dim.vrho + 1] += tvrho1;

  t154 = 0.1e1 / t34;
  t156 = t93 * t154 * t37;
  t159 = my_piecewise3(t1, 0, -0.3e1 / 0.2192e4 * t92 * t156);
  tvsigma0 = t6 * t159;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vsigma[ip*p->dim.vsigma + 0] += tvsigma0;

  tvsigma1 = 0.e0;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vsigma[ip*p->dim.vsigma + 1] += tvsigma1;

  t160 = 0.1e1 / t57;
  t162 = t142 * t160 * t60;
  t165 = my_piecewise3(t49, 0, -0.3e1 / 0.2192e4 * t141 * t162);
  tvsigma2 = t6 * t165;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vsigma[ip*p->dim.vsigma + 2] += tvsigma2;

  t168 = t23 * t23;
  t169 = 0.1e1 / t168;
  t170 = t76 * t76;
  t173 = t72 * t6;
  t174 = 0.1e1 / t173;
  t175 = t16 * t174;
  t177 = -0.2e1 * t73 + 0.2e1 * t175;
  t178 = my_piecewise5(t10, 0, t14, 0, t177);
  t182 = my_piecewise3(t20, 0, 0.4e1 / 0.9e1 * t169 * t170 + 0.4e1 / 0.3e1 * t23 * t178);
  t189 = t5 * t79 * t85 * t44;
  t191 = t4 * t79;
  t192 = t191 * t91;
  t196 = 0.1e1 / t84 / t6;
  t200 = t5 * t25 * t196 * t44 / 0.12e2;
  t201 = t85 * t31;
  t202 = t90 * t201;
  t203 = t202 * t98;
  t205 = 0.1e1 / t39;
  t206 = t33 * t205;
  t207 = t94 * t94;
  t208 = t35 * t35;
  t210 = 0.1e1 / t208 / t207;
  t212 = t206 * sigma[0] * t210;
  t215 = t94 * rho[0];
  t217 = 0.1e1 / t35 / t215;
  t219 = t93 * t34 * t217;
  t223 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t182 * t26 * t44 - t189 / 0.4e1 + t192 * t98 / 0.137e3 + t200 + t203 / 0.411e3 - t92 * t212 / 0.411e3 - 0.7e1 / 0.822e3 * t92 * t219);
  t224 = t53 * t53;
  t225 = 0.1e1 / t224;
  t226 = t104 * t104;
  t230 = my_piecewise5(t14, 0, t10, 0, -t177);
  t234 = my_piecewise3(t52, 0, 0.4e1 / 0.9e1 * t225 * t226 + 0.4e1 / 0.3e1 * t53 * t230);
  t241 = t5 * t107 * t85 * t67;
  t246 = t5 * t55 * t196 * t67 / 0.12e2;
  t248 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t234 * t26 * t67 - t241 / 0.4e1 + t246);
  tv2rho20 = 0.2e1 * t102 + 0.2e1 * t117 + t6 * (t223 + t248);

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rho2[ip*p->dim.v2rho2 + 0] += tv2rho20;

  t251 = t169 * t121;
  t254 = 0.2e1 * t175;
  t255 = my_piecewise5(t10, 0, t14, 0, t254);
  t259 = my_piecewise3(t20, 0, 0.4e1 / 0.9e1 * t251 * t76 + 0.4e1 / 0.3e1 * t23 * t255);
  t266 = t5 * t124 * t85 * t44;
  t268 = t4 * t124;
  t269 = t268 * t91;
  t275 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t259 * t26 * t44 - t266 / 0.8e1 + t269 * t98 / 0.274e3 - t189 / 0.8e1 + t200 + t203 / 0.822e3);
  t276 = t225 * t132;
  t279 = my_piecewise5(t14, 0, t10, 0, -t254);
  t283 = my_piecewise3(t52, 0, 0.4e1 / 0.9e1 * t276 * t104 + 0.4e1 / 0.3e1 * t53 * t279);
  t290 = t5 * t135 * t85 * t67;
  t293 = t4 * t107;
  t294 = t293 * t91;
  t297 = t140 * t201;
  t298 = t297 * t147;
  t301 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t283 * t26 * t67 - t290 / 0.8e1 - t241 / 0.8e1 + t246 + t294 * t147 / 0.274e3 + t298 / 0.822e3);
  tv2rho21 = t102 + t117 + t130 + t151 + t6 * (t275 + t301);

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rho2[ip*p->dim.v2rho2 + 1] += tv2rho21;

  t306 = t121 * t121;
  t310 = 0.2e1 * t73 + 0.2e1 * t175;
  t311 = my_piecewise5(t10, 0, t14, 0, t310);
  t315 = my_piecewise3(t20, 0, 0.4e1 / 0.9e1 * t169 * t306 + 0.4e1 / 0.3e1 * t23 * t311);
  t322 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t315 * t26 * t44 - t266 / 0.4e1 + t200);
  t323 = t132 * t132;
  t327 = my_piecewise5(t14, 0, t10, 0, -t310);
  t331 = my_piecewise3(t52, 0, 0.4e1 / 0.9e1 * t225 * t323 + 0.4e1 / 0.3e1 * t53 * t327);
  t337 = t4 * t135;
  t338 = t337 * t91;
  t342 = 0.1e1 / t62;
  t343 = t33 * t342;
  t344 = t143 * t143;
  t345 = t58 * t58;
  t347 = 0.1e1 / t345 / t344;
  t349 = t343 * sigma[2] * t347;
  t352 = t143 * rho[1];
  t354 = 0.1e1 / t58 / t352;
  t356 = t142 * t57 * t354;
  t360 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t331 * t26 * t67 - t290 / 0.4e1 + t338 * t147 / 0.137e3 + t246 + t298 / 0.411e3 - t141 * t349 / 0.411e3 - 0.7e1 / 0.822e3 * t141 * t356);
  tv2rho22 = 0.2e1 * t130 + 0.2e1 * t151 + t6 * (t322 + t360);

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rho2[ip*p->dim.v2rho2 + 2] += tv2rho22;

  t366 = t202 * t156 / 0.2192e4;
  t367 = t90 * t26;
  t368 = t31 * t33;
  t370 = 0.1e1 / t208 / t215;
  t372 = t368 * t205 * t370;
  t376 = t93 * t154 * t96;
  t380 = my_piecewise3(t1, 0, -0.3e1 / 0.2192e4 * t192 * t156 - t366 + t367 * t372 / 0.1096e4 + t92 * t376 / 0.548e3);
  tv2rhosigma0 = t6 * t380 + t159;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 0] += tv2rhosigma0;

  tv2rhosigma1 = 0.e0;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 1] += tv2rhosigma1;

  t385 = t297 * t162 / 0.2192e4;
  t387 = my_piecewise3(t49, 0, -0.3e1 / 0.2192e4 * t294 * t162 - t385);
  tv2rhosigma2 = t6 * t387 + t165;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 2] += tv2rhosigma2;

  t392 = my_piecewise3(t1, 0, -0.3e1 / 0.2192e4 * t269 * t156 - t366);
  tv2rhosigma3 = t6 * t392 + t159;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 3] += tv2rhosigma3;

  tv2rhosigma4 = 0.e0;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 4] += tv2rhosigma4;

  t396 = t140 * t26;
  t398 = 0.1e1 / t345 / t352;
  t400 = t368 * t342 * t398;
  t404 = t142 * t160 * t145;
  t408 = my_piecewise3(t49, 0, -0.3e1 / 0.2192e4 * t338 * t162 - t385 + t396 * t400 / 0.1096e4 + t141 * t404 / 0.548e3);
  tv2rhosigma5 = t6 * t408 + t165;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 5] += tv2rhosigma5;

  t410 = 0.1e1 / sigma[0];
  t412 = 0.1e1 / t208 / t94;
  t414 = t206 * t410 * t412;
  t417 = t34 * sigma[0];
  t418 = 0.1e1 / t417;
  t420 = t93 * t418 * t37;
  t424 = my_piecewise3(t1, 0, -0.3e1 / 0.8768e4 * t92 * t414 + 0.3e1 / 0.4384e4 * t92 * t420);
  tv2sigma20 = t6 * t424;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 0] += tv2sigma20;

  tv2sigma21 = 0.e0;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 1] += tv2sigma21;

  tv2sigma22 = 0.e0;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 2] += tv2sigma22;

  tv2sigma23 = 0.e0;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 3] += tv2sigma23;

  tv2sigma24 = 0.e0;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 4] += tv2sigma24;

  t425 = 0.1e1 / sigma[2];
  t427 = 0.1e1 / t345 / t143;
  t429 = t343 * t425 * t427;
  t432 = t57 * sigma[2];
  t433 = 0.1e1 / t432;
  t435 = t142 * t433 * t60;
  t439 = my_piecewise3(t49, 0, -0.3e1 / 0.8768e4 * t141 * t429 + 0.3e1 / 0.4384e4 * t141 * t435);
  tv2sigma25 = t6 * t439;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 5] += tv2sigma25;

}

#endif


#ifndef XC_DONT_COMPILE_KXC
static inline void
func_kxc_pol(const xc_func_type *p, size_t ip, const double *rho, const double *sigma, xc_gga_out_params *out)
{
  double t1, t2, t3, t4, t5, t6, t7, t10;
  double t11, t14, t15, t16, t17, t18, t19, t20;
  double t21, t22, t23, t25, t26, t28, t30, t31;
  double t32, t33, t34, t35, t37, t38, t39, t40;
  double t44, t48, t49, t50, t51, t52, t53, t55;
  double t57, t58, t60, t61, t62, t63, t67, t71;
  double tzk0;

  double t72, t73, t74, t75, t76, t79, t84, t85;
  double t89, t90, t91, t92, t93, t94, t96, t98;
  double t102, t104, t107, t115, t117, tvrho0, t120, t121;
  double t124, t130, t132, t135, t140, t141, t142, t143;
  double t145, t147, t151, tvrho1, t154, t156, t159, tvsigma0;
  double tvsigma1, t160, t162, t165, tvsigma2;

  double t168, t169, t170, t173, t174, t175, t177, t178;
  double t182, t189, t191, t192, t196, t200, t201, t202;
  double t203, t205, t206, t207, t208, t210, t212, t215;
  double t217, t219, t223, t224, t225, t226, t230, t234;
  double t241, t246, t248, tv2rho20, t251, t254, t255, t259;
  double t266, t268, t269, t275, t276, t279, t283, t290;
  double t293, t294, t297, t298, t301, tv2rho21, t306, t310;
  double t311, t315, t322, t323, t327, t331, t337, t338;
  double t342, t343, t344, t345, t347, t349, t352, t354;
  double t356, t360, tv2rho22, t366, t367, t368, t370, t372;
  double t376, t380, tv2rhosigma0, tv2rhosigma1, t385, t387, tv2rhosigma2, t392;
  double tv2rhosigma3, tv2rhosigma4, t396, t398, t400, t404, t408, tv2rhosigma5;
  double t410, t412, t414, t417, t418, t420, t424, tv2sigma20;
  double tv2sigma21, tv2sigma22, tv2sigma23, tv2sigma24, t425, t427, t429, t432;
  double t433, t435, t439, tv2sigma25;

  double t444, t448, t451, t455, t457, t459, t464, t466;
  double t468, t470, t474, t475, t478, t481, t482, t483;
  double t485, t486, t490, t495, t496, t499, t500, t504;
  double t505, t506, t508, t511, t512, t513, t515, t518;
  double t519, t521, t522, t525, t529, t533, t540, t544;
  double t549, t551, tv3rho30, t554, t555, t556, t559, t564;
  double t565, t566, t567, t571, t579, t580, t581, t586;
  double t588, t590, t601, t602, t603, t606, t612, t616;
  double t624, t627, t631, t632, t635, t637, t638, t639;
  double t642, tv3rho31, t645, t650, t653, t654, t658, t665;
  double t667, t668, t675, t676, t681, t685, t689, t696;
  double t699, t700, t703, t704, t710, t714, t716, t717;
  double tv3rho32, t722, t728, t729, t733, t741, t744, t746;
  double t748, t752, t754, t763, t769, t773, t778, t779;
  double t785, t786, t787, t789, t792, t793, tv3rho33, t799;
  double t801, t807, t808, t809, t811, t813, t814, t816;
  double t820, t824, t828, tv3rho2sigma0, tv3rho2sigma1, t833, t836, t838;
  double tv3rho2sigma2, t842, t844, t853, tv3rho2sigma3, tv3rho2sigma4, t857, t860;
  double t863, t864, t868, t871, tv3rho2sigma5, t878, tv3rho2sigma6, tv3rho2sigma7;
  double t884, t891, t892, t894, t898, t902, t906, tv3rho2sigma8;
  double t911, t914, t918, t924, t926, t930, tv3rhosigma20, tv3rhosigma21;
  double tv3rhosigma22, tv3rhosigma23, tv3rhosigma24, t935, t939, t941, tv3rhosigma25, t948;
  double tv3rhosigma26, tv3rhosigma27, tv3rhosigma28, tv3rhosigma29, tv3rhosigma210, t954, t958, t964;
  double t968, tv3rhosigma211, t970, t972, t975, t976, t978, t982;
  double t984, t988, tv3sigma30, tv3sigma31, tv3sigma32, tv3sigma33, tv3sigma34, tv3sigma35;
  double tv3sigma36, tv3sigma37, tv3sigma38, t989, t991, t994, t995, t997;
  double t1001, t1003, t1007, tv3sigma39;


  t1 = rho[0] <= p->dens_threshold;
  t2 = M_CBRT3;
  t3 = M_CBRTPI;
  t4 = 0.1e1 / t3;
  t5 = t2 * t4;
  t6 = rho[0] + rho[1];
  t7 = 0.1e1 / t6;
  t10 = 0.2e1 * rho[0] * t7 <= p->zeta_threshold;
  t11 = p->zeta_threshold - 0.1e1;
  t14 = 0.2e1 * rho[1] * t7 <= p->zeta_threshold;
  t15 = -t11;
  t16 = rho[0] - rho[1];
  t17 = t16 * t7;
  t18 = my_piecewise5(t10, t11, t14, t15, t17);
  t19 = 0.1e1 + t18;
  t20 = t19 <= p->zeta_threshold;
  t21 = POW_1_3(p->zeta_threshold);
  t22 = t21 * p->zeta_threshold;
  t23 = POW_1_3(t19);
  t25 = my_piecewise3(t20, t22, t23 * t19);
  t26 = POW_1_3(t6);
  t28 = t2 * t2;
  t30 = POW_1_3(0.1e1 / M_PI);
  t31 = 0.1e1 / t30;
  t32 = t28 * t31;
  t33 = M_CBRT4;
  t34 = sqrt(sigma[0]);
  t35 = POW_1_3(rho[0]);
  t37 = 0.1e1 / t35 / rho[0];
  t38 = t34 * t37;
  t39 = sqrt(t38);
  t40 = t39 * t38;
  t44 = 0.1e1 + 0.2e1 / 0.1233e4 * t32 * t33 * t40;
  t48 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t25 * t26 * t44);
  t49 = rho[1] <= p->dens_threshold;
  t50 = my_piecewise5(t14, t11, t10, t15, -t17);
  t51 = 0.1e1 + t50;
  t52 = t51 <= p->zeta_threshold;
  t53 = POW_1_3(t51);
  t55 = my_piecewise3(t52, t22, t53 * t51);
  t57 = sqrt(sigma[2]);
  t58 = POW_1_3(rho[1]);
  t60 = 0.1e1 / t58 / rho[1];
  t61 = t57 * t60;
  t62 = sqrt(t61);
  t63 = t62 * t61;
  t67 = 0.1e1 + 0.2e1 / 0.1233e4 * t32 * t33 * t63;
  t71 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t55 * t26 * t67);
  tzk0 = t48 + t71;

  if(out->zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    out->zk[ip*p->dim.zk + 0] += tzk0;

  t72 = t6 * t6;
  t73 = 0.1e1 / t72;
  t74 = t16 * t73;
  t75 = t7 - t74;
  t76 = my_piecewise5(t10, 0, t14, 0, t75);
  t79 = my_piecewise3(t20, 0, 0.4e1 / 0.3e1 * t23 * t76);
  t84 = t26 * t26;
  t85 = 0.1e1 / t84;
  t89 = t5 * t25 * t85 * t44 / 0.8e1;
  t90 = t4 * t25;
  t91 = t26 * t31;
  t92 = t90 * t91;
  t93 = t33 * t39;
  t94 = rho[0] * rho[0];
  t96 = 0.1e1 / t35 / t94;
  t98 = t93 * t34 * t96;
  t102 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t79 * t26 * t44 - t89 + t92 * t98 / 0.274e3);
  t104 = my_piecewise5(t14, 0, t10, 0, -t75);
  t107 = my_piecewise3(t52, 0, 0.4e1 / 0.3e1 * t53 * t104);
  t115 = t5 * t55 * t85 * t67 / 0.8e1;
  t117 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t107 * t26 * t67 - t115);
  tvrho0 = t48 + t71 + t6 * (t102 + t117);

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vrho[ip*p->dim.vrho + 0] += tvrho0;

  t120 = -t7 - t74;
  t121 = my_piecewise5(t10, 0, t14, 0, t120);
  t124 = my_piecewise3(t20, 0, 0.4e1 / 0.3e1 * t23 * t121);
  t130 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t124 * t26 * t44 - t89);
  t132 = my_piecewise5(t14, 0, t10, 0, -t120);
  t135 = my_piecewise3(t52, 0, 0.4e1 / 0.3e1 * t53 * t132);
  t140 = t4 * t55;
  t141 = t140 * t91;
  t142 = t33 * t62;
  t143 = rho[1] * rho[1];
  t145 = 0.1e1 / t58 / t143;
  t147 = t142 * t57 * t145;
  t151 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t135 * t26 * t67 - t115 + t141 * t147 / 0.274e3);
  tvrho1 = t48 + t71 + t6 * (t130 + t151);

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vrho[ip*p->dim.vrho + 1] += tvrho1;

  t154 = 0.1e1 / t34;
  t156 = t93 * t154 * t37;
  t159 = my_piecewise3(t1, 0, -0.3e1 / 0.2192e4 * t92 * t156);
  tvsigma0 = t6 * t159;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vsigma[ip*p->dim.vsigma + 0] += tvsigma0;

  tvsigma1 = 0.e0;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vsigma[ip*p->dim.vsigma + 1] += tvsigma1;

  t160 = 0.1e1 / t57;
  t162 = t142 * t160 * t60;
  t165 = my_piecewise3(t49, 0, -0.3e1 / 0.2192e4 * t141 * t162);
  tvsigma2 = t6 * t165;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vsigma[ip*p->dim.vsigma + 2] += tvsigma2;

  t168 = t23 * t23;
  t169 = 0.1e1 / t168;
  t170 = t76 * t76;
  t173 = t72 * t6;
  t174 = 0.1e1 / t173;
  t175 = t16 * t174;
  t177 = -0.2e1 * t73 + 0.2e1 * t175;
  t178 = my_piecewise5(t10, 0, t14, 0, t177);
  t182 = my_piecewise3(t20, 0, 0.4e1 / 0.9e1 * t169 * t170 + 0.4e1 / 0.3e1 * t23 * t178);
  t189 = t5 * t79 * t85 * t44;
  t191 = t4 * t79;
  t192 = t191 * t91;
  t196 = 0.1e1 / t84 / t6;
  t200 = t5 * t25 * t196 * t44 / 0.12e2;
  t201 = t85 * t31;
  t202 = t90 * t201;
  t203 = t202 * t98;
  t205 = 0.1e1 / t39;
  t206 = t33 * t205;
  t207 = t94 * t94;
  t208 = t35 * t35;
  t210 = 0.1e1 / t208 / t207;
  t212 = t206 * sigma[0] * t210;
  t215 = t94 * rho[0];
  t217 = 0.1e1 / t35 / t215;
  t219 = t93 * t34 * t217;
  t223 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t182 * t26 * t44 - t189 / 0.4e1 + t192 * t98 / 0.137e3 + t200 + t203 / 0.411e3 - t92 * t212 / 0.411e3 - 0.7e1 / 0.822e3 * t92 * t219);
  t224 = t53 * t53;
  t225 = 0.1e1 / t224;
  t226 = t104 * t104;
  t230 = my_piecewise5(t14, 0, t10, 0, -t177);
  t234 = my_piecewise3(t52, 0, 0.4e1 / 0.9e1 * t225 * t226 + 0.4e1 / 0.3e1 * t53 * t230);
  t241 = t5 * t107 * t85 * t67;
  t246 = t5 * t55 * t196 * t67 / 0.12e2;
  t248 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t234 * t26 * t67 - t241 / 0.4e1 + t246);
  tv2rho20 = 0.2e1 * t102 + 0.2e1 * t117 + t6 * (t223 + t248);

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rho2[ip*p->dim.v2rho2 + 0] += tv2rho20;

  t251 = t169 * t121;
  t254 = 0.2e1 * t175;
  t255 = my_piecewise5(t10, 0, t14, 0, t254);
  t259 = my_piecewise3(t20, 0, 0.4e1 / 0.9e1 * t251 * t76 + 0.4e1 / 0.3e1 * t23 * t255);
  t266 = t5 * t124 * t85 * t44;
  t268 = t4 * t124;
  t269 = t268 * t91;
  t275 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t259 * t26 * t44 - t266 / 0.8e1 + t269 * t98 / 0.274e3 - t189 / 0.8e1 + t200 + t203 / 0.822e3);
  t276 = t225 * t132;
  t279 = my_piecewise5(t14, 0, t10, 0, -t254);
  t283 = my_piecewise3(t52, 0, 0.4e1 / 0.9e1 * t276 * t104 + 0.4e1 / 0.3e1 * t53 * t279);
  t290 = t5 * t135 * t85 * t67;
  t293 = t4 * t107;
  t294 = t293 * t91;
  t297 = t140 * t201;
  t298 = t297 * t147;
  t301 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t283 * t26 * t67 - t290 / 0.8e1 - t241 / 0.8e1 + t246 + t294 * t147 / 0.274e3 + t298 / 0.822e3);
  tv2rho21 = t102 + t117 + t130 + t151 + t6 * (t275 + t301);

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rho2[ip*p->dim.v2rho2 + 1] += tv2rho21;

  t306 = t121 * t121;
  t310 = 0.2e1 * t73 + 0.2e1 * t175;
  t311 = my_piecewise5(t10, 0, t14, 0, t310);
  t315 = my_piecewise3(t20, 0, 0.4e1 / 0.9e1 * t169 * t306 + 0.4e1 / 0.3e1 * t23 * t311);
  t322 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t315 * t26 * t44 - t266 / 0.4e1 + t200);
  t323 = t132 * t132;
  t327 = my_piecewise5(t14, 0, t10, 0, -t310);
  t331 = my_piecewise3(t52, 0, 0.4e1 / 0.9e1 * t225 * t323 + 0.4e1 / 0.3e1 * t53 * t327);
  t337 = t4 * t135;
  t338 = t337 * t91;
  t342 = 0.1e1 / t62;
  t343 = t33 * t342;
  t344 = t143 * t143;
  t345 = t58 * t58;
  t347 = 0.1e1 / t345 / t344;
  t349 = t343 * sigma[2] * t347;
  t352 = t143 * rho[1];
  t354 = 0.1e1 / t58 / t352;
  t356 = t142 * t57 * t354;
  t360 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t331 * t26 * t67 - t290 / 0.4e1 + t338 * t147 / 0.137e3 + t246 + t298 / 0.411e3 - t141 * t349 / 0.411e3 - 0.7e1 / 0.822e3 * t141 * t356);
  tv2rho22 = 0.2e1 * t130 + 0.2e1 * t151 + t6 * (t322 + t360);

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rho2[ip*p->dim.v2rho2 + 2] += tv2rho22;

  t366 = t202 * t156 / 0.2192e4;
  t367 = t90 * t26;
  t368 = t31 * t33;
  t370 = 0.1e1 / t208 / t215;
  t372 = t368 * t205 * t370;
  t376 = t93 * t154 * t96;
  t380 = my_piecewise3(t1, 0, -0.3e1 / 0.2192e4 * t192 * t156 - t366 + t367 * t372 / 0.1096e4 + t92 * t376 / 0.548e3);
  tv2rhosigma0 = t6 * t380 + t159;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 0] += tv2rhosigma0;

  tv2rhosigma1 = 0.e0;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 1] += tv2rhosigma1;

  t385 = t297 * t162 / 0.2192e4;
  t387 = my_piecewise3(t49, 0, -0.3e1 / 0.2192e4 * t294 * t162 - t385);
  tv2rhosigma2 = t6 * t387 + t165;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 2] += tv2rhosigma2;

  t392 = my_piecewise3(t1, 0, -0.3e1 / 0.2192e4 * t269 * t156 - t366);
  tv2rhosigma3 = t6 * t392 + t159;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 3] += tv2rhosigma3;

  tv2rhosigma4 = 0.e0;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 4] += tv2rhosigma4;

  t396 = t140 * t26;
  t398 = 0.1e1 / t345 / t352;
  t400 = t368 * t342 * t398;
  t404 = t142 * t160 * t145;
  t408 = my_piecewise3(t49, 0, -0.3e1 / 0.2192e4 * t338 * t162 - t385 + t396 * t400 / 0.1096e4 + t141 * t404 / 0.548e3);
  tv2rhosigma5 = t6 * t408 + t165;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 5] += tv2rhosigma5;

  t410 = 0.1e1 / sigma[0];
  t412 = 0.1e1 / t208 / t94;
  t414 = t206 * t410 * t412;
  t417 = t34 * sigma[0];
  t418 = 0.1e1 / t417;
  t420 = t93 * t418 * t37;
  t424 = my_piecewise3(t1, 0, -0.3e1 / 0.8768e4 * t92 * t414 + 0.3e1 / 0.4384e4 * t92 * t420);
  tv2sigma20 = t6 * t424;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 0] += tv2sigma20;

  tv2sigma21 = 0.e0;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 1] += tv2sigma21;

  tv2sigma22 = 0.e0;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 2] += tv2sigma22;

  tv2sigma23 = 0.e0;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 3] += tv2sigma23;

  tv2sigma24 = 0.e0;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 4] += tv2sigma24;

  t425 = 0.1e1 / sigma[2];
  t427 = 0.1e1 / t345 / t143;
  t429 = t343 * t425 * t427;
  t432 = t57 * sigma[2];
  t433 = 0.1e1 / t432;
  t435 = t142 * t433 * t60;
  t439 = my_piecewise3(t49, 0, -0.3e1 / 0.8768e4 * t141 * t429 + 0.3e1 / 0.4384e4 * t141 * t435);
  tv2sigma25 = t6 * t439;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 5] += tv2sigma25;

  t444 = t5 * t182 * t85 * t44;
  t448 = t5 * t79 * t196 * t44;
  t451 = 0.1e1 / t84 / t72;
  t455 = 0.5e1 / 0.36e2 * t5 * t25 * t451 * t44;
  t457 = 0.1e1 / t35 / t207;
  t459 = t93 * t34 * t457;
  t464 = t202 * t219;
  t466 = t207 * rho[0];
  t468 = 0.1e1 / t208 / t466;
  t470 = t206 * sigma[0] * t468;
  t474 = 0.1e1 / t168 / t19;
  t475 = t170 * t76;
  t478 = t169 * t76;
  t481 = t72 * t72;
  t482 = 0.1e1 / t481;
  t483 = t16 * t482;
  t485 = 0.6e1 * t174 - 0.6e1 * t483;
  t486 = my_piecewise5(t10, 0, t14, 0, t485);
  t490 = my_piecewise3(t20, 0, -0.8e1 / 0.27e2 * t474 * t475 + 0.4e1 / 0.3e1 * t478 * t178 + 0.4e1 / 0.3e1 * t23 * t486);
  t495 = t4 * t182;
  t496 = t495 * t91;
  t499 = t191 * t201;
  t500 = t499 * t98;
  t504 = t196 * t31;
  t505 = t90 * t504;
  t506 = t505 * t98;
  t508 = t202 * t212;
  t511 = t33 / t40;
  t512 = t207 * t215;
  t513 = 0.1e1 / t512;
  t515 = t511 * t417 * t513;
  t518 = -0.3e1 / 0.8e1 * t444 + t448 / 0.4e1 - t455 + 0.35e2 / 0.1233e4 * t92 * t459 - 0.7e1 / 0.274e3 * t192 * t219 - 0.7e1 / 0.822e3 * t464 + 0.7e1 / 0.411e3 * t92 * t470 - 0.3e1 / 0.8e1 * t5 * t490 * t26 * t44 + 0.3e1 / 0.274e3 * t496 * t98 + t500 / 0.137e3 - t192 * t212 / 0.137e3 - t506 / 0.411e3 - t508 / 0.411e3 - 0.2e1 / 0.1233e4 * t92 * t515;
  t519 = my_piecewise3(t1, 0, t518);
  t521 = 0.1e1 / t224 / t51;
  t522 = t226 * t104;
  t525 = t225 * t104;
  t529 = my_piecewise5(t14, 0, t10, 0, -t485);
  t533 = my_piecewise3(t52, 0, -0.8e1 / 0.27e2 * t521 * t522 + 0.4e1 / 0.3e1 * t525 * t230 + 0.4e1 / 0.3e1 * t53 * t529);
  t540 = t5 * t234 * t85 * t67;
  t544 = t5 * t107 * t196 * t67;
  t549 = 0.5e1 / 0.36e2 * t5 * t55 * t451 * t67;
  t551 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t533 * t26 * t67 - 0.3e1 / 0.8e1 * t540 + t544 / 0.4e1 - t549);
  tv3rho30 = 0.3e1 * t223 + 0.3e1 * t248 + t6 * (t519 + t551);

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho3[ip*p->dim.v3rho3 + 0] += tv3rho30;

  t554 = 0.2e1 * t275;
  t555 = 0.2e1 * t301;
  t556 = t474 * t121;
  t559 = t169 * t255;
  t564 = 0.2e1 * t174;
  t565 = 0.6e1 * t483;
  t566 = t564 - t565;
  t567 = my_piecewise5(t10, 0, t14, 0, t566);
  t571 = my_piecewise3(t20, 0, -0.8e1 / 0.27e2 * t556 * t170 + 0.8e1 / 0.9e1 * t559 * t76 + 0.4e1 / 0.9e1 * t251 * t178 + 0.4e1 / 0.3e1 * t23 * t567);
  t579 = t5 * t259 * t85 * t44 / 0.4e1;
  t580 = t4 * t259;
  t581 = t580 * t91;
  t586 = t5 * t124 * t196 * t44;
  t588 = t268 * t201;
  t590 = t588 * t98 / 0.411e3;
  t601 = -0.3e1 / 0.8e1 * t5 * t571 * t26 * t44 - t579 + t581 * t98 / 0.137e3 + t586 / 0.12e2 + t590 - t269 * t212 / 0.411e3 - 0.7e1 / 0.822e3 * t269 * t219 - t444 / 0.8e1 + t448 / 0.6e1 + t500 / 0.411e3 - t455 - 0.2e1 / 0.1233e4 * t506 - t508 / 0.1233e4 - 0.7e1 / 0.2466e4 * t464;
  t602 = my_piecewise3(t1, 0, t601);
  t603 = t521 * t132;
  t606 = t225 * t279;
  t612 = my_piecewise5(t14, 0, t10, 0, -t566);
  t616 = my_piecewise3(t52, 0, -0.8e1 / 0.27e2 * t603 * t226 + 0.8e1 / 0.9e1 * t606 * t104 + 0.4e1 / 0.9e1 * t276 * t230 + 0.4e1 / 0.3e1 * t53 * t612);
  t624 = t5 * t283 * t85 * t67 / 0.4e1;
  t627 = t5 * t135 * t196 * t67;
  t631 = t4 * t234;
  t632 = t631 * t91;
  t635 = t293 * t201;
  t637 = t635 * t147 / 0.411e3;
  t638 = t140 * t504;
  t639 = t638 * t147;
  t642 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t616 * t26 * t67 - t624 + t627 / 0.12e2 - t540 / 0.8e1 + t544 / 0.6e1 - t549 + t632 * t147 / 0.274e3 + t637 - t639 / 0.1233e4);
  tv3rho31 = t223 + t248 + t554 + t555 + t6 * (t602 + t642);

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho3[ip*p->dim.v3rho3 + 1] += tv3rho31;

  t645 = t474 * t306;
  t650 = t169 * t311;
  t653 = -t564 - t565;
  t654 = my_piecewise5(t10, 0, t14, 0, t653);
  t658 = my_piecewise3(t20, 0, -0.8e1 / 0.27e2 * t645 * t76 + 0.8e1 / 0.9e1 * t251 * t255 + 0.4e1 / 0.9e1 * t650 * t76 + 0.4e1 / 0.3e1 * t23 * t654);
  t665 = t5 * t315 * t85 * t44;
  t667 = t4 * t315;
  t668 = t667 * t91;
  t675 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t658 * t26 * t44 - t665 / 0.8e1 + t668 * t98 / 0.274e3 - t579 + t586 / 0.6e1 + t590 + t448 / 0.12e2 - t455 - t506 / 0.1233e4);
  t676 = t521 * t323;
  t681 = t225 * t327;
  t685 = my_piecewise5(t14, 0, t10, 0, -t653);
  t689 = my_piecewise3(t52, 0, -0.8e1 / 0.27e2 * t676 * t104 + 0.8e1 / 0.9e1 * t276 * t279 + 0.4e1 / 0.9e1 * t681 * t104 + 0.4e1 / 0.3e1 * t53 * t685);
  t696 = t5 * t331 * t85 * t67;
  t699 = t4 * t283;
  t700 = t699 * t91;
  t703 = t337 * t201;
  t704 = t703 * t147;
  t710 = t297 * t349;
  t714 = t297 * t356;
  t716 = -0.3e1 / 0.8e1 * t5 * t689 * t26 * t67 - t696 / 0.8e1 - t624 + t627 / 0.6e1 + t700 * t147 / 0.137e3 + t704 / 0.411e3 + t544 / 0.12e2 - t549 + t637 - 0.2e1 / 0.1233e4 * t639 - t294 * t349 / 0.411e3 - t710 / 0.1233e4 - 0.7e1 / 0.822e3 * t294 * t356 - 0.7e1 / 0.2466e4 * t714;
  t717 = my_piecewise3(t49, 0, t716);
  tv3rho32 = t554 + t555 + t322 + t360 + t6 * (t675 + t717);

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho3[ip*p->dim.v3rho3 + 2] += tv3rho32;

  t722 = t306 * t121;
  t728 = -0.6e1 * t174 - 0.6e1 * t483;
  t729 = my_piecewise5(t10, 0, t14, 0, t728);
  t733 = my_piecewise3(t20, 0, -0.8e1 / 0.27e2 * t474 * t722 + 0.4e1 / 0.3e1 * t251 * t311 + 0.4e1 / 0.3e1 * t23 * t729);
  t741 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t733 * t26 * t44 - 0.3e1 / 0.8e1 * t665 + t586 / 0.4e1 - t455);
  t744 = t344 * rho[1];
  t746 = 0.1e1 / t345 / t744;
  t748 = t343 * sigma[2] * t746;
  t752 = 0.1e1 / t58 / t344;
  t754 = t142 * t57 * t752;
  t763 = t323 * t132;
  t769 = my_piecewise5(t14, 0, t10, 0, -t728);
  t773 = my_piecewise3(t52, 0, -0.8e1 / 0.27e2 * t521 * t763 + 0.4e1 / 0.3e1 * t276 * t327 + 0.4e1 / 0.3e1 * t53 * t769);
  t778 = t4 * t331;
  t779 = t778 * t91;
  t785 = t33 / t63;
  t786 = t344 * t352;
  t787 = 0.1e1 / t786;
  t789 = t785 * t432 * t787;
  t792 = -0.3e1 / 0.8e1 * t696 - t549 + t627 / 0.4e1 + 0.7e1 / 0.411e3 * t141 * t748 + 0.35e2 / 0.1233e4 * t141 * t754 - 0.7e1 / 0.274e3 * t338 * t356 + t704 / 0.137e3 - t710 / 0.411e3 - 0.7e1 / 0.822e3 * t714 - t639 / 0.411e3 - 0.3e1 / 0.8e1 * t5 * t773 * t26 * t67 + 0.3e1 / 0.274e3 * t779 * t147 - t338 * t349 / 0.137e3 - 0.2e1 / 0.1233e4 * t141 * t789;
  t793 = my_piecewise3(t49, 0, t792);
  tv3rho33 = 0.3e1 * t322 + 0.3e1 * t360 + t6 * (t741 + t793);

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho3[ip*p->dim.v3rho3 + 3] += tv3rho33;

  t799 = t499 * t156;
  t801 = t191 * t26;
  t807 = t505 * t156 / 0.3288e4;
  t808 = t90 * t85;
  t809 = t808 * t372;
  t811 = t202 * t376;
  t813 = t207 * t94;
  t814 = 0.1e1 / t813;
  t816 = t511 * t814 * t34;
  t820 = t368 * t205 * t210;
  t824 = t93 * t154 * t217;
  t828 = my_piecewise3(t1, 0, -0.3e1 / 0.2192e4 * t496 * t156 - t799 / 0.1096e4 + t801 * t372 / 0.548e3 + t192 * t376 / 0.274e3 + t807 + t809 / 0.1644e4 + t811 / 0.822e3 + t92 * t816 / 0.1644e4 - 0.5e1 / 0.1096e4 * t367 * t820 - 0.7e1 / 0.1644e4 * t92 * t824);
  tv3rho2sigma0 = t6 * t828 + 0.2e1 * t380;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 0] += tv3rho2sigma0;

  tv3rho2sigma1 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 1] += tv3rho2sigma1;

  t833 = t635 * t162;
  t836 = t638 * t162 / 0.3288e4;
  t838 = my_piecewise3(t49, 0, -0.3e1 / 0.2192e4 * t632 * t162 - t833 / 0.1096e4 + t836);
  tv3rho2sigma2 = t6 * t838 + 0.2e1 * t387;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 2] += tv3rho2sigma2;

  t842 = t588 * t156;
  t844 = t268 * t26;
  t853 = my_piecewise3(t1, 0, -0.3e1 / 0.2192e4 * t581 * t156 - t842 / 0.2192e4 + t844 * t372 / 0.1096e4 + t269 * t376 / 0.548e3 - t799 / 0.2192e4 + t807 + t809 / 0.3288e4 + t811 / 0.1644e4);
  tv3rho2sigma3 = t6 * t853 + t380 + t392;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 3] += tv3rho2sigma3;

  tv3rho2sigma4 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 4] += tv3rho2sigma4;

  t857 = t703 * t162;
  t860 = t293 * t26;
  t863 = t140 * t85;
  t864 = t863 * t400;
  t868 = t297 * t404;
  t871 = my_piecewise3(t49, 0, -0.3e1 / 0.2192e4 * t700 * t162 - t857 / 0.2192e4 - t833 / 0.2192e4 + t836 + t860 * t400 / 0.1096e4 + t864 / 0.3288e4 + t294 * t404 / 0.548e3 + t868 / 0.1644e4);
  tv3rho2sigma5 = t6 * t871 + t387 + t408;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 5] += tv3rho2sigma5;

  t878 = my_piecewise3(t1, 0, -0.3e1 / 0.2192e4 * t668 * t156 - t842 / 0.1096e4 + t807);
  tv3rho2sigma6 = t6 * t878 + 0.2e1 * t392;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 6] += tv3rho2sigma6;

  tv3rho2sigma7 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 7] += tv3rho2sigma7;

  t884 = t337 * t26;
  t891 = t344 * t143;
  t892 = 0.1e1 / t891;
  t894 = t785 * t892 * t57;
  t898 = t368 * t342 * t347;
  t902 = t142 * t160 * t354;
  t906 = my_piecewise3(t49, 0, -0.3e1 / 0.2192e4 * t779 * t162 - t857 / 0.1096e4 + t884 * t400 / 0.548e3 + t338 * t404 / 0.274e3 + t836 + t864 / 0.1644e4 + t868 / 0.822e3 + t141 * t894 / 0.1644e4 - 0.5e1 / 0.1096e4 * t396 * t898 - 0.7e1 / 0.1644e4 * t141 * t902);
  tv3rho2sigma8 = t6 * t906 + 0.2e1 * t408;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 8] += tv3rho2sigma8;

  t911 = t202 * t414 / 0.8768e4;
  t914 = t511 * t154 / t466;
  t918 = t206 * t410 * t370;
  t924 = t202 * t420 / 0.4384e4;
  t926 = t93 * t418 * t96;
  t930 = my_piecewise3(t1, 0, -0.3e1 / 0.8768e4 * t192 * t414 - t911 - t92 * t914 / 0.4384e4 + t92 * t918 / 0.2192e4 + 0.3e1 / 0.4384e4 * t192 * t420 + t924 - t92 * t926 / 0.1096e4);
  tv3rhosigma20 = t6 * t930 + t424;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 0] += tv3rhosigma20;

  tv3rhosigma21 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 1] += tv3rhosigma21;

  tv3rhosigma22 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 2] += tv3rhosigma22;

  tv3rhosigma23 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 3] += tv3rhosigma23;

  tv3rhosigma24 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 4] += tv3rhosigma24;

  t935 = t297 * t429 / 0.8768e4;
  t939 = t297 * t435 / 0.4384e4;
  t941 = my_piecewise3(t49, 0, -0.3e1 / 0.8768e4 * t294 * t429 - t935 + 0.3e1 / 0.4384e4 * t294 * t435 + t939);
  tv3rhosigma25 = t6 * t941 + t439;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 5] += tv3rhosigma25;

  t948 = my_piecewise3(t1, 0, -0.3e1 / 0.8768e4 * t269 * t414 - t911 + 0.3e1 / 0.4384e4 * t269 * t420 + t924);
  tv3rhosigma26 = t6 * t948 + t424;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 6] += tv3rhosigma26;

  tv3rhosigma27 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 7] += tv3rhosigma27;

  tv3rhosigma28 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 8] += tv3rhosigma28;

  tv3rhosigma29 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 9] += tv3rhosigma29;

  tv3rhosigma210 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 10] += tv3rhosigma210;

  t954 = t785 * t160 / t744;
  t958 = t343 * t425 * t398;
  t964 = t142 * t433 * t145;
  t968 = my_piecewise3(t49, 0, -0.3e1 / 0.8768e4 * t338 * t429 - t935 - t141 * t954 / 0.4384e4 + t141 * t958 / 0.2192e4 + 0.3e1 / 0.4384e4 * t338 * t435 + t939 - t141 * t964 / 0.1096e4);
  tv3rhosigma211 = t6 * t968 + t439;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 11] += tv3rhosigma211;

  t970 = 0.1e1 / t207;
  t972 = t511 * t418 * t970;
  t975 = sigma[0] * sigma[0];
  t976 = 0.1e1 / t975;
  t978 = t206 * t976 * t412;
  t982 = 0.1e1 / t34 / t975;
  t984 = t93 * t982 * t37;
  t988 = my_piecewise3(t1, 0, 0.3e1 / 0.35072e5 * t92 * t972 + 0.9e1 / 0.17536e5 * t92 * t978 - 0.9e1 / 0.8768e4 * t92 * t984);
  tv3sigma30 = t6 * t988;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 0] += tv3sigma30;

  tv3sigma31 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 1] += tv3sigma31;

  tv3sigma32 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 2] += tv3sigma32;

  tv3sigma33 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 3] += tv3sigma33;

  tv3sigma34 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 4] += tv3sigma34;

  tv3sigma35 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 5] += tv3sigma35;

  tv3sigma36 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 6] += tv3sigma36;

  tv3sigma37 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 7] += tv3sigma37;

  tv3sigma38 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 8] += tv3sigma38;

  t989 = 0.1e1 / t344;
  t991 = t785 * t433 * t989;
  t994 = sigma[2] * sigma[2];
  t995 = 0.1e1 / t994;
  t997 = t343 * t995 * t427;
  t1001 = 0.1e1 / t57 / t994;
  t1003 = t142 * t1001 * t60;
  t1007 = my_piecewise3(t49, 0, 0.3e1 / 0.35072e5 * t141 * t991 + 0.9e1 / 0.17536e5 * t141 * t997 - 0.9e1 / 0.8768e4 * t141 * t1003);
  tv3sigma39 = t6 * t1007;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 9] += tv3sigma39;

}

#endif


#ifndef XC_DONT_COMPILE_LXC
static inline void
func_lxc_pol(const xc_func_type *p, size_t ip, const double *rho, const double *sigma, xc_gga_out_params *out)
{
  double t1, t2, t3, t4, t5, t6, t7, t10;
  double t11, t14, t15, t16, t17, t18, t19, t20;
  double t21, t22, t23, t25, t26, t28, t30, t31;
  double t32, t33, t34, t35, t37, t38, t39, t40;
  double t44, t48, t49, t50, t51, t52, t53, t55;
  double t57, t58, t60, t61, t62, t63, t67, t71;
  double tzk0;

  double t72, t73, t74, t75, t76, t79, t84, t85;
  double t89, t90, t91, t92, t93, t94, t96, t98;
  double t102, t104, t107, t115, t117, tvrho0, t120, t121;
  double t124, t130, t132, t135, t140, t141, t142, t143;
  double t145, t147, t151, tvrho1, t154, t156, t159, tvsigma0;
  double tvsigma1, t160, t162, t165, tvsigma2;

  double t168, t169, t170, t173, t174, t175, t177, t178;
  double t182, t189, t191, t192, t196, t200, t201, t202;
  double t203, t205, t206, t207, t208, t210, t212, t215;
  double t217, t219, t223, t224, t225, t226, t230, t234;
  double t241, t246, t248, tv2rho20, t251, t254, t255, t259;
  double t266, t268, t269, t275, t276, t279, t283, t290;
  double t293, t294, t297, t298, t301, tv2rho21, t306, t310;
  double t311, t315, t322, t323, t327, t331, t337, t338;
  double t342, t343, t344, t345, t347, t349, t352, t354;
  double t356, t360, tv2rho22, t366, t367, t368, t370, t372;
  double t376, t380, tv2rhosigma0, tv2rhosigma1, t385, t387, tv2rhosigma2, t392;
  double tv2rhosigma3, tv2rhosigma4, t396, t398, t400, t404, t408, tv2rhosigma5;
  double t410, t412, t414, t417, t418, t420, t424, tv2sigma20;
  double tv2sigma21, tv2sigma22, tv2sigma23, tv2sigma24, t425, t427, t429, t432;
  double t433, t435, t439, tv2sigma25;

  double t444, t448, t451, t455, t457, t459, t464, t466;
  double t468, t470, t474, t475, t478, t481, t482, t483;
  double t485, t486, t490, t495, t496, t499, t500, t504;
  double t505, t506, t508, t511, t512, t513, t515, t518;
  double t519, t521, t522, t525, t529, t533, t540, t544;
  double t549, t551, tv3rho30, t554, t555, t556, t559, t564;
  double t565, t566, t567, t571, t579, t580, t581, t586;
  double t588, t590, t601, t602, t603, t606, t612, t616;
  double t624, t627, t631, t632, t635, t637, t638, t639;
  double t642, tv3rho31, t645, t650, t653, t654, t658, t665;
  double t667, t668, t675, t676, t681, t685, t689, t696;
  double t699, t700, t703, t704, t710, t714, t716, t717;
  double tv3rho32, t722, t728, t729, t733, t741, t744, t746;
  double t748, t752, t754, t763, t769, t773, t778, t779;
  double t785, t786, t787, t789, t792, t793, tv3rho33, t799;
  double t801, t807, t808, t809, t811, t813, t814, t816;
  double t820, t824, t828, tv3rho2sigma0, tv3rho2sigma1, t833, t836, t838;
  double tv3rho2sigma2, t842, t844, t853, tv3rho2sigma3, tv3rho2sigma4, t857, t860;
  double t863, t864, t868, t871, tv3rho2sigma5, t878, tv3rho2sigma6, tv3rho2sigma7;
  double t884, t891, t892, t894, t898, t902, t906, tv3rho2sigma8;
  double t911, t914, t918, t924, t926, t930, tv3rhosigma20, tv3rhosigma21;
  double tv3rhosigma22, tv3rhosigma23, tv3rhosigma24, t935, t939, t941, tv3rhosigma25, t948;
  double tv3rhosigma26, tv3rhosigma27, tv3rhosigma28, tv3rhosigma29, tv3rhosigma210, t954, t958, t964;
  double t968, tv3rhosigma211, t970, t972, t975, t976, t978, t982;
  double t984, t988, tv3sigma30, tv3sigma31, tv3sigma32, tv3sigma33, tv3sigma34, tv3sigma35;
  double tv3sigma36, tv3sigma37, tv3sigma38, t989, t991, t994, t995, t997;
  double t1001, t1003, t1007, tv3sigma39;

  double t1012, t1016, t1019, t1023, t1026, t1028, t1030, t1031;
  double t1037, t1044, t1046, t1047, t1051, t1056, t1059, t1064;
  double t1066, t1068, t1070, t1077, t1080, t1083, t1087, t1089;
  double t1093, t1094, t1102, t1103, t1105, t1106, t1108, t1109;
  double t1110, t1124, t1126, t1127, t1129, t1130, t1136, t1142;
  double t1146, t1153, t1157, t1161, t1166, t1168, tv4rho40, t1175;
  double t1179, t1180, t1183, t1201, t1202, t1203, t1204, t1208;
  double t1217, t1220, t1221, t1225, t1226, t1227, t1228, t1232;
  double t1245, t1251, t1253, t1271, t1275, t1282, t1286, t1287;
  double t1290, t1296, t1299, t1300, t1302, t1303, t1304, t1305;
  double t1306, t1308, t1309, tv4rho41, t1318, t1322, t1329, t1332;
  double t1333, t1357, t1370, t1374, t1379, t1381, t1384, t1388;
  double t1390, t1392, t1394, t1396, t1397, t1399, t1400, t1402;
  double t1413, t1429, t1442, t1446, t1451, t1453, tv4rho42, t1473;
  double t1474, t1478, t1485, t1488, t1497, t1498, t1515, t1519;
  double t1526, t1532, t1535, t1546, t1555, t1557, t1559, t1561;
  double t1563, t1564, t1567, t1569, tv4rho43, t1574, t1579, t1585;
  double t1586, t1590, t1599, t1601, t1606, t1612, t1616, t1623;
  double t1635, t1647, t1650, t1657, t1658, t1677, t1679, tv4rho44;
  double t1694, t1695, t1697, t1699, t1703, t1705, t1723, t1725;
  double t1731, t1734, t1736, t1737, tv4rho3sigma0, tv4rho3sigma1, t1742, t1744;
  double t1747, t1749, tv4rho3sigma2, t1751, t1752, t1755, t1759, t1782;
  double t1783, t1784, tv4rho3sigma3, tv4rho3sigma4, t1786, t1790, t1791, t1800;
  double t1802, t1807, t1808, t1810, t1811, tv4rho3sigma5, t1815, t1826;
  double t1827, tv4rho3sigma6, tv4rho3sigma7, t1831, t1838, t1842, t1849, t1853;
  double t1857, t1859, t1860, tv4rho3sigma8, t1868, tv4rho3sigma9, tv4rho3sigma10, t1911;
  double t1912, tv4rho3sigma11, t1921, t1923, t1929, t1939, t1944, t1945;
  double t1950, t1957, t1958, tv4rho2sigma20, tv4rho2sigma21, tv4rho2sigma22, tv4rho2sigma23, tv4rho2sigma24;
  double t1963, t1966, t1969, t1972, t1974, tv4rho2sigma25, t1978, t1989;
  double t1995, t1996, tv4rho2sigma26, tv4rho2sigma27, tv4rho2sigma28, tv4rho2sigma29, tv4rho2sigma210, t2000;
  double t2005, t2009, t2013, t2018, t2020, t2021, tv4rho2sigma211, t2031;
  double tv4rho2sigma212, tv4rho2sigma213, tv4rho2sigma214, tv4rho2sigma215, tv4rho2sigma216, t2067, t2068, tv4rho2sigma217;
  double t2073, t2083, t2091, t2097, tv4rhosigma30, tv4rhosigma31, tv4rhosigma32, tv4rhosigma33;
  double tv4rhosigma34, tv4rhosigma35, tv4rhosigma36, tv4rhosigma37, tv4rhosigma38, t2102, t2106, t2110;
  double t2112, tv4rhosigma39, t2121, tv4rhosigma310, tv4rhosigma311, tv4rhosigma312, tv4rhosigma313, tv4rhosigma314;
  double tv4rhosigma315, tv4rhosigma316, tv4rhosigma317, tv4rhosigma318, t2144, tv4rhosigma319, t2154, t2167;
  double tv4sigma40, tv4sigma41, tv4sigma42, tv4sigma43, tv4sigma44, tv4sigma45, tv4sigma46, tv4sigma47;
  double tv4sigma48, tv4sigma49, tv4sigma410, tv4sigma411, tv4sigma412, tv4sigma413, t2176, t2189;
  double tv4sigma414;


  t1 = rho[0] <= p->dens_threshold;
  t2 = M_CBRT3;
  t3 = M_CBRTPI;
  t4 = 0.1e1 / t3;
  t5 = t2 * t4;
  t6 = rho[0] + rho[1];
  t7 = 0.1e1 / t6;
  t10 = 0.2e1 * rho[0] * t7 <= p->zeta_threshold;
  t11 = p->zeta_threshold - 0.1e1;
  t14 = 0.2e1 * rho[1] * t7 <= p->zeta_threshold;
  t15 = -t11;
  t16 = rho[0] - rho[1];
  t17 = t16 * t7;
  t18 = my_piecewise5(t10, t11, t14, t15, t17);
  t19 = 0.1e1 + t18;
  t20 = t19 <= p->zeta_threshold;
  t21 = POW_1_3(p->zeta_threshold);
  t22 = t21 * p->zeta_threshold;
  t23 = POW_1_3(t19);
  t25 = my_piecewise3(t20, t22, t23 * t19);
  t26 = POW_1_3(t6);
  t28 = t2 * t2;
  t30 = POW_1_3(0.1e1 / M_PI);
  t31 = 0.1e1 / t30;
  t32 = t28 * t31;
  t33 = M_CBRT4;
  t34 = sqrt(sigma[0]);
  t35 = POW_1_3(rho[0]);
  t37 = 0.1e1 / t35 / rho[0];
  t38 = t34 * t37;
  t39 = sqrt(t38);
  t40 = t39 * t38;
  t44 = 0.1e1 + 0.2e1 / 0.1233e4 * t32 * t33 * t40;
  t48 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t25 * t26 * t44);
  t49 = rho[1] <= p->dens_threshold;
  t50 = my_piecewise5(t14, t11, t10, t15, -t17);
  t51 = 0.1e1 + t50;
  t52 = t51 <= p->zeta_threshold;
  t53 = POW_1_3(t51);
  t55 = my_piecewise3(t52, t22, t53 * t51);
  t57 = sqrt(sigma[2]);
  t58 = POW_1_3(rho[1]);
  t60 = 0.1e1 / t58 / rho[1];
  t61 = t57 * t60;
  t62 = sqrt(t61);
  t63 = t62 * t61;
  t67 = 0.1e1 + 0.2e1 / 0.1233e4 * t32 * t33 * t63;
  t71 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t55 * t26 * t67);
  tzk0 = t48 + t71;

  if(out->zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    out->zk[ip*p->dim.zk + 0] += tzk0;

  t72 = t6 * t6;
  t73 = 0.1e1 / t72;
  t74 = t16 * t73;
  t75 = t7 - t74;
  t76 = my_piecewise5(t10, 0, t14, 0, t75);
  t79 = my_piecewise3(t20, 0, 0.4e1 / 0.3e1 * t23 * t76);
  t84 = t26 * t26;
  t85 = 0.1e1 / t84;
  t89 = t5 * t25 * t85 * t44 / 0.8e1;
  t90 = t4 * t25;
  t91 = t26 * t31;
  t92 = t90 * t91;
  t93 = t33 * t39;
  t94 = rho[0] * rho[0];
  t96 = 0.1e1 / t35 / t94;
  t98 = t93 * t34 * t96;
  t102 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t79 * t26 * t44 - t89 + t92 * t98 / 0.274e3);
  t104 = my_piecewise5(t14, 0, t10, 0, -t75);
  t107 = my_piecewise3(t52, 0, 0.4e1 / 0.3e1 * t53 * t104);
  t115 = t5 * t55 * t85 * t67 / 0.8e1;
  t117 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t107 * t26 * t67 - t115);
  tvrho0 = t48 + t71 + t6 * (t102 + t117);

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vrho[ip*p->dim.vrho + 0] += tvrho0;

  t120 = -t7 - t74;
  t121 = my_piecewise5(t10, 0, t14, 0, t120);
  t124 = my_piecewise3(t20, 0, 0.4e1 / 0.3e1 * t23 * t121);
  t130 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t124 * t26 * t44 - t89);
  t132 = my_piecewise5(t14, 0, t10, 0, -t120);
  t135 = my_piecewise3(t52, 0, 0.4e1 / 0.3e1 * t53 * t132);
  t140 = t4 * t55;
  t141 = t140 * t91;
  t142 = t33 * t62;
  t143 = rho[1] * rho[1];
  t145 = 0.1e1 / t58 / t143;
  t147 = t142 * t57 * t145;
  t151 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t135 * t26 * t67 - t115 + t141 * t147 / 0.274e3);
  tvrho1 = t48 + t71 + t6 * (t130 + t151);

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vrho[ip*p->dim.vrho + 1] += tvrho1;

  t154 = 0.1e1 / t34;
  t156 = t93 * t154 * t37;
  t159 = my_piecewise3(t1, 0, -0.3e1 / 0.2192e4 * t92 * t156);
  tvsigma0 = t6 * t159;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vsigma[ip*p->dim.vsigma + 0] += tvsigma0;

  tvsigma1 = 0.e0;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vsigma[ip*p->dim.vsigma + 1] += tvsigma1;

  t160 = 0.1e1 / t57;
  t162 = t142 * t160 * t60;
  t165 = my_piecewise3(t49, 0, -0.3e1 / 0.2192e4 * t141 * t162);
  tvsigma2 = t6 * t165;

  if(out->vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    out->vsigma[ip*p->dim.vsigma + 2] += tvsigma2;

  t168 = t23 * t23;
  t169 = 0.1e1 / t168;
  t170 = t76 * t76;
  t173 = t72 * t6;
  t174 = 0.1e1 / t173;
  t175 = t16 * t174;
  t177 = -0.2e1 * t73 + 0.2e1 * t175;
  t178 = my_piecewise5(t10, 0, t14, 0, t177);
  t182 = my_piecewise3(t20, 0, 0.4e1 / 0.9e1 * t169 * t170 + 0.4e1 / 0.3e1 * t23 * t178);
  t189 = t5 * t79 * t85 * t44;
  t191 = t4 * t79;
  t192 = t191 * t91;
  t196 = 0.1e1 / t84 / t6;
  t200 = t5 * t25 * t196 * t44 / 0.12e2;
  t201 = t85 * t31;
  t202 = t90 * t201;
  t203 = t202 * t98;
  t205 = 0.1e1 / t39;
  t206 = t33 * t205;
  t207 = t94 * t94;
  t208 = t35 * t35;
  t210 = 0.1e1 / t208 / t207;
  t212 = t206 * sigma[0] * t210;
  t215 = t94 * rho[0];
  t217 = 0.1e1 / t35 / t215;
  t219 = t93 * t34 * t217;
  t223 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t182 * t26 * t44 - t189 / 0.4e1 + t192 * t98 / 0.137e3 + t200 + t203 / 0.411e3 - t92 * t212 / 0.411e3 - 0.7e1 / 0.822e3 * t92 * t219);
  t224 = t53 * t53;
  t225 = 0.1e1 / t224;
  t226 = t104 * t104;
  t230 = my_piecewise5(t14, 0, t10, 0, -t177);
  t234 = my_piecewise3(t52, 0, 0.4e1 / 0.9e1 * t225 * t226 + 0.4e1 / 0.3e1 * t53 * t230);
  t241 = t5 * t107 * t85 * t67;
  t246 = t5 * t55 * t196 * t67 / 0.12e2;
  t248 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t234 * t26 * t67 - t241 / 0.4e1 + t246);
  tv2rho20 = 0.2e1 * t102 + 0.2e1 * t117 + t6 * (t223 + t248);

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rho2[ip*p->dim.v2rho2 + 0] += tv2rho20;

  t251 = t169 * t121;
  t254 = 0.2e1 * t175;
  t255 = my_piecewise5(t10, 0, t14, 0, t254);
  t259 = my_piecewise3(t20, 0, 0.4e1 / 0.9e1 * t251 * t76 + 0.4e1 / 0.3e1 * t23 * t255);
  t266 = t5 * t124 * t85 * t44;
  t268 = t4 * t124;
  t269 = t268 * t91;
  t275 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t259 * t26 * t44 - t266 / 0.8e1 + t269 * t98 / 0.274e3 - t189 / 0.8e1 + t200 + t203 / 0.822e3);
  t276 = t225 * t132;
  t279 = my_piecewise5(t14, 0, t10, 0, -t254);
  t283 = my_piecewise3(t52, 0, 0.4e1 / 0.9e1 * t276 * t104 + 0.4e1 / 0.3e1 * t53 * t279);
  t290 = t5 * t135 * t85 * t67;
  t293 = t4 * t107;
  t294 = t293 * t91;
  t297 = t140 * t201;
  t298 = t297 * t147;
  t301 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t283 * t26 * t67 - t290 / 0.8e1 - t241 / 0.8e1 + t246 + t294 * t147 / 0.274e3 + t298 / 0.822e3);
  tv2rho21 = t102 + t117 + t130 + t151 + t6 * (t275 + t301);

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rho2[ip*p->dim.v2rho2 + 1] += tv2rho21;

  t306 = t121 * t121;
  t310 = 0.2e1 * t73 + 0.2e1 * t175;
  t311 = my_piecewise5(t10, 0, t14, 0, t310);
  t315 = my_piecewise3(t20, 0, 0.4e1 / 0.9e1 * t169 * t306 + 0.4e1 / 0.3e1 * t23 * t311);
  t322 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t315 * t26 * t44 - t266 / 0.4e1 + t200);
  t323 = t132 * t132;
  t327 = my_piecewise5(t14, 0, t10, 0, -t310);
  t331 = my_piecewise3(t52, 0, 0.4e1 / 0.9e1 * t225 * t323 + 0.4e1 / 0.3e1 * t53 * t327);
  t337 = t4 * t135;
  t338 = t337 * t91;
  t342 = 0.1e1 / t62;
  t343 = t33 * t342;
  t344 = t143 * t143;
  t345 = t58 * t58;
  t347 = 0.1e1 / t345 / t344;
  t349 = t343 * sigma[2] * t347;
  t352 = t143 * rho[1];
  t354 = 0.1e1 / t58 / t352;
  t356 = t142 * t57 * t354;
  t360 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t331 * t26 * t67 - t290 / 0.4e1 + t338 * t147 / 0.137e3 + t246 + t298 / 0.411e3 - t141 * t349 / 0.411e3 - 0.7e1 / 0.822e3 * t141 * t356);
  tv2rho22 = 0.2e1 * t130 + 0.2e1 * t151 + t6 * (t322 + t360);

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rho2[ip*p->dim.v2rho2 + 2] += tv2rho22;

  t366 = t202 * t156 / 0.2192e4;
  t367 = t90 * t26;
  t368 = t31 * t33;
  t370 = 0.1e1 / t208 / t215;
  t372 = t368 * t205 * t370;
  t376 = t93 * t154 * t96;
  t380 = my_piecewise3(t1, 0, -0.3e1 / 0.2192e4 * t192 * t156 - t366 + t367 * t372 / 0.1096e4 + t92 * t376 / 0.548e3);
  tv2rhosigma0 = t6 * t380 + t159;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 0] += tv2rhosigma0;

  tv2rhosigma1 = 0.e0;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 1] += tv2rhosigma1;

  t385 = t297 * t162 / 0.2192e4;
  t387 = my_piecewise3(t49, 0, -0.3e1 / 0.2192e4 * t294 * t162 - t385);
  tv2rhosigma2 = t6 * t387 + t165;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 2] += tv2rhosigma2;

  t392 = my_piecewise3(t1, 0, -0.3e1 / 0.2192e4 * t269 * t156 - t366);
  tv2rhosigma3 = t6 * t392 + t159;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 3] += tv2rhosigma3;

  tv2rhosigma4 = 0.e0;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 4] += tv2rhosigma4;

  t396 = t140 * t26;
  t398 = 0.1e1 / t345 / t352;
  t400 = t368 * t342 * t398;
  t404 = t142 * t160 * t145;
  t408 = my_piecewise3(t49, 0, -0.3e1 / 0.2192e4 * t338 * t162 - t385 + t396 * t400 / 0.1096e4 + t141 * t404 / 0.548e3);
  tv2rhosigma5 = t6 * t408 + t165;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2rhosigma[ip*p->dim.v2rhosigma + 5] += tv2rhosigma5;

  t410 = 0.1e1 / sigma[0];
  t412 = 0.1e1 / t208 / t94;
  t414 = t206 * t410 * t412;
  t417 = t34 * sigma[0];
  t418 = 0.1e1 / t417;
  t420 = t93 * t418 * t37;
  t424 = my_piecewise3(t1, 0, -0.3e1 / 0.8768e4 * t92 * t414 + 0.3e1 / 0.4384e4 * t92 * t420);
  tv2sigma20 = t6 * t424;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 0] += tv2sigma20;

  tv2sigma21 = 0.e0;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 1] += tv2sigma21;

  tv2sigma22 = 0.e0;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 2] += tv2sigma22;

  tv2sigma23 = 0.e0;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 3] += tv2sigma23;

  tv2sigma24 = 0.e0;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 4] += tv2sigma24;

  t425 = 0.1e1 / sigma[2];
  t427 = 0.1e1 / t345 / t143;
  t429 = t343 * t425 * t427;
  t432 = t57 * sigma[2];
  t433 = 0.1e1 / t432;
  t435 = t142 * t433 * t60;
  t439 = my_piecewise3(t49, 0, -0.3e1 / 0.8768e4 * t141 * t429 + 0.3e1 / 0.4384e4 * t141 * t435);
  tv2sigma25 = t6 * t439;

  if(out->v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    out->v2sigma2[ip*p->dim.v2sigma2 + 5] += tv2sigma25;

  t444 = t5 * t182 * t85 * t44;
  t448 = t5 * t79 * t196 * t44;
  t451 = 0.1e1 / t84 / t72;
  t455 = 0.5e1 / 0.36e2 * t5 * t25 * t451 * t44;
  t457 = 0.1e1 / t35 / t207;
  t459 = t93 * t34 * t457;
  t464 = t202 * t219;
  t466 = t207 * rho[0];
  t468 = 0.1e1 / t208 / t466;
  t470 = t206 * sigma[0] * t468;
  t474 = 0.1e1 / t168 / t19;
  t475 = t170 * t76;
  t478 = t169 * t76;
  t481 = t72 * t72;
  t482 = 0.1e1 / t481;
  t483 = t16 * t482;
  t485 = 0.6e1 * t174 - 0.6e1 * t483;
  t486 = my_piecewise5(t10, 0, t14, 0, t485);
  t490 = my_piecewise3(t20, 0, -0.8e1 / 0.27e2 * t474 * t475 + 0.4e1 / 0.3e1 * t478 * t178 + 0.4e1 / 0.3e1 * t23 * t486);
  t495 = t4 * t182;
  t496 = t495 * t91;
  t499 = t191 * t201;
  t500 = t499 * t98;
  t504 = t196 * t31;
  t505 = t90 * t504;
  t506 = t505 * t98;
  t508 = t202 * t212;
  t511 = t33 / t40;
  t512 = t207 * t215;
  t513 = 0.1e1 / t512;
  t515 = t511 * t417 * t513;
  t518 = -0.3e1 / 0.8e1 * t444 + t448 / 0.4e1 - t455 + 0.35e2 / 0.1233e4 * t92 * t459 - 0.7e1 / 0.274e3 * t192 * t219 - 0.7e1 / 0.822e3 * t464 + 0.7e1 / 0.411e3 * t92 * t470 - 0.3e1 / 0.8e1 * t5 * t490 * t26 * t44 + 0.3e1 / 0.274e3 * t496 * t98 + t500 / 0.137e3 - t192 * t212 / 0.137e3 - t506 / 0.411e3 - t508 / 0.411e3 - 0.2e1 / 0.1233e4 * t92 * t515;
  t519 = my_piecewise3(t1, 0, t518);
  t521 = 0.1e1 / t224 / t51;
  t522 = t226 * t104;
  t525 = t225 * t104;
  t529 = my_piecewise5(t14, 0, t10, 0, -t485);
  t533 = my_piecewise3(t52, 0, -0.8e1 / 0.27e2 * t521 * t522 + 0.4e1 / 0.3e1 * t525 * t230 + 0.4e1 / 0.3e1 * t53 * t529);
  t540 = t5 * t234 * t85 * t67;
  t544 = t5 * t107 * t196 * t67;
  t549 = 0.5e1 / 0.36e2 * t5 * t55 * t451 * t67;
  t551 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t533 * t26 * t67 - 0.3e1 / 0.8e1 * t540 + t544 / 0.4e1 - t549);
  tv3rho30 = 0.3e1 * t223 + 0.3e1 * t248 + t6 * (t519 + t551);

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho3[ip*p->dim.v3rho3 + 0] += tv3rho30;

  t554 = 0.2e1 * t275;
  t555 = 0.2e1 * t301;
  t556 = t474 * t121;
  t559 = t169 * t255;
  t564 = 0.2e1 * t174;
  t565 = 0.6e1 * t483;
  t566 = t564 - t565;
  t567 = my_piecewise5(t10, 0, t14, 0, t566);
  t571 = my_piecewise3(t20, 0, -0.8e1 / 0.27e2 * t556 * t170 + 0.8e1 / 0.9e1 * t559 * t76 + 0.4e1 / 0.9e1 * t251 * t178 + 0.4e1 / 0.3e1 * t23 * t567);
  t579 = t5 * t259 * t85 * t44 / 0.4e1;
  t580 = t4 * t259;
  t581 = t580 * t91;
  t586 = t5 * t124 * t196 * t44;
  t588 = t268 * t201;
  t590 = t588 * t98 / 0.411e3;
  t601 = -0.3e1 / 0.8e1 * t5 * t571 * t26 * t44 - t579 + t581 * t98 / 0.137e3 + t586 / 0.12e2 + t590 - t269 * t212 / 0.411e3 - 0.7e1 / 0.822e3 * t269 * t219 - t444 / 0.8e1 + t448 / 0.6e1 + t500 / 0.411e3 - t455 - 0.2e1 / 0.1233e4 * t506 - t508 / 0.1233e4 - 0.7e1 / 0.2466e4 * t464;
  t602 = my_piecewise3(t1, 0, t601);
  t603 = t521 * t132;
  t606 = t225 * t279;
  t612 = my_piecewise5(t14, 0, t10, 0, -t566);
  t616 = my_piecewise3(t52, 0, -0.8e1 / 0.27e2 * t603 * t226 + 0.8e1 / 0.9e1 * t606 * t104 + 0.4e1 / 0.9e1 * t276 * t230 + 0.4e1 / 0.3e1 * t53 * t612);
  t624 = t5 * t283 * t85 * t67 / 0.4e1;
  t627 = t5 * t135 * t196 * t67;
  t631 = t4 * t234;
  t632 = t631 * t91;
  t635 = t293 * t201;
  t637 = t635 * t147 / 0.411e3;
  t638 = t140 * t504;
  t639 = t638 * t147;
  t642 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t616 * t26 * t67 - t624 + t627 / 0.12e2 - t540 / 0.8e1 + t544 / 0.6e1 - t549 + t632 * t147 / 0.274e3 + t637 - t639 / 0.1233e4);
  tv3rho31 = t223 + t248 + t554 + t555 + t6 * (t602 + t642);

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho3[ip*p->dim.v3rho3 + 1] += tv3rho31;

  t645 = t474 * t306;
  t650 = t169 * t311;
  t653 = -t564 - t565;
  t654 = my_piecewise5(t10, 0, t14, 0, t653);
  t658 = my_piecewise3(t20, 0, -0.8e1 / 0.27e2 * t645 * t76 + 0.8e1 / 0.9e1 * t251 * t255 + 0.4e1 / 0.9e1 * t650 * t76 + 0.4e1 / 0.3e1 * t23 * t654);
  t665 = t5 * t315 * t85 * t44;
  t667 = t4 * t315;
  t668 = t667 * t91;
  t675 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t658 * t26 * t44 - t665 / 0.8e1 + t668 * t98 / 0.274e3 - t579 + t586 / 0.6e1 + t590 + t448 / 0.12e2 - t455 - t506 / 0.1233e4);
  t676 = t521 * t323;
  t681 = t225 * t327;
  t685 = my_piecewise5(t14, 0, t10, 0, -t653);
  t689 = my_piecewise3(t52, 0, -0.8e1 / 0.27e2 * t676 * t104 + 0.8e1 / 0.9e1 * t276 * t279 + 0.4e1 / 0.9e1 * t681 * t104 + 0.4e1 / 0.3e1 * t53 * t685);
  t696 = t5 * t331 * t85 * t67;
  t699 = t4 * t283;
  t700 = t699 * t91;
  t703 = t337 * t201;
  t704 = t703 * t147;
  t710 = t297 * t349;
  t714 = t297 * t356;
  t716 = -0.3e1 / 0.8e1 * t5 * t689 * t26 * t67 - t696 / 0.8e1 - t624 + t627 / 0.6e1 + t700 * t147 / 0.137e3 + t704 / 0.411e3 + t544 / 0.12e2 - t549 + t637 - 0.2e1 / 0.1233e4 * t639 - t294 * t349 / 0.411e3 - t710 / 0.1233e4 - 0.7e1 / 0.822e3 * t294 * t356 - 0.7e1 / 0.2466e4 * t714;
  t717 = my_piecewise3(t49, 0, t716);
  tv3rho32 = t554 + t555 + t322 + t360 + t6 * (t675 + t717);

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho3[ip*p->dim.v3rho3 + 2] += tv3rho32;

  t722 = t306 * t121;
  t728 = -0.6e1 * t174 - 0.6e1 * t483;
  t729 = my_piecewise5(t10, 0, t14, 0, t728);
  t733 = my_piecewise3(t20, 0, -0.8e1 / 0.27e2 * t474 * t722 + 0.4e1 / 0.3e1 * t251 * t311 + 0.4e1 / 0.3e1 * t23 * t729);
  t741 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t733 * t26 * t44 - 0.3e1 / 0.8e1 * t665 + t586 / 0.4e1 - t455);
  t744 = t344 * rho[1];
  t746 = 0.1e1 / t345 / t744;
  t748 = t343 * sigma[2] * t746;
  t752 = 0.1e1 / t58 / t344;
  t754 = t142 * t57 * t752;
  t763 = t323 * t132;
  t769 = my_piecewise5(t14, 0, t10, 0, -t728);
  t773 = my_piecewise3(t52, 0, -0.8e1 / 0.27e2 * t521 * t763 + 0.4e1 / 0.3e1 * t276 * t327 + 0.4e1 / 0.3e1 * t53 * t769);
  t778 = t4 * t331;
  t779 = t778 * t91;
  t785 = t33 / t63;
  t786 = t344 * t352;
  t787 = 0.1e1 / t786;
  t789 = t785 * t432 * t787;
  t792 = -0.3e1 / 0.8e1 * t696 - t549 + t627 / 0.4e1 + 0.7e1 / 0.411e3 * t141 * t748 + 0.35e2 / 0.1233e4 * t141 * t754 - 0.7e1 / 0.274e3 * t338 * t356 + t704 / 0.137e3 - t710 / 0.411e3 - 0.7e1 / 0.822e3 * t714 - t639 / 0.411e3 - 0.3e1 / 0.8e1 * t5 * t773 * t26 * t67 + 0.3e1 / 0.274e3 * t779 * t147 - t338 * t349 / 0.137e3 - 0.2e1 / 0.1233e4 * t141 * t789;
  t793 = my_piecewise3(t49, 0, t792);
  tv3rho33 = 0.3e1 * t322 + 0.3e1 * t360 + t6 * (t741 + t793);

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho3[ip*p->dim.v3rho3 + 3] += tv3rho33;

  t799 = t499 * t156;
  t801 = t191 * t26;
  t807 = t505 * t156 / 0.3288e4;
  t808 = t90 * t85;
  t809 = t808 * t372;
  t811 = t202 * t376;
  t813 = t207 * t94;
  t814 = 0.1e1 / t813;
  t816 = t511 * t814 * t34;
  t820 = t368 * t205 * t210;
  t824 = t93 * t154 * t217;
  t828 = my_piecewise3(t1, 0, -0.3e1 / 0.2192e4 * t496 * t156 - t799 / 0.1096e4 + t801 * t372 / 0.548e3 + t192 * t376 / 0.274e3 + t807 + t809 / 0.1644e4 + t811 / 0.822e3 + t92 * t816 / 0.1644e4 - 0.5e1 / 0.1096e4 * t367 * t820 - 0.7e1 / 0.1644e4 * t92 * t824);
  tv3rho2sigma0 = t6 * t828 + 0.2e1 * t380;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 0] += tv3rho2sigma0;

  tv3rho2sigma1 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 1] += tv3rho2sigma1;

  t833 = t635 * t162;
  t836 = t638 * t162 / 0.3288e4;
  t838 = my_piecewise3(t49, 0, -0.3e1 / 0.2192e4 * t632 * t162 - t833 / 0.1096e4 + t836);
  tv3rho2sigma2 = t6 * t838 + 0.2e1 * t387;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 2] += tv3rho2sigma2;

  t842 = t588 * t156;
  t844 = t268 * t26;
  t853 = my_piecewise3(t1, 0, -0.3e1 / 0.2192e4 * t581 * t156 - t842 / 0.2192e4 + t844 * t372 / 0.1096e4 + t269 * t376 / 0.548e3 - t799 / 0.2192e4 + t807 + t809 / 0.3288e4 + t811 / 0.1644e4);
  tv3rho2sigma3 = t6 * t853 + t380 + t392;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 3] += tv3rho2sigma3;

  tv3rho2sigma4 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 4] += tv3rho2sigma4;

  t857 = t703 * t162;
  t860 = t293 * t26;
  t863 = t140 * t85;
  t864 = t863 * t400;
  t868 = t297 * t404;
  t871 = my_piecewise3(t49, 0, -0.3e1 / 0.2192e4 * t700 * t162 - t857 / 0.2192e4 - t833 / 0.2192e4 + t836 + t860 * t400 / 0.1096e4 + t864 / 0.3288e4 + t294 * t404 / 0.548e3 + t868 / 0.1644e4);
  tv3rho2sigma5 = t6 * t871 + t387 + t408;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 5] += tv3rho2sigma5;

  t878 = my_piecewise3(t1, 0, -0.3e1 / 0.2192e4 * t668 * t156 - t842 / 0.1096e4 + t807);
  tv3rho2sigma6 = t6 * t878 + 0.2e1 * t392;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 6] += tv3rho2sigma6;

  tv3rho2sigma7 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 7] += tv3rho2sigma7;

  t884 = t337 * t26;
  t891 = t344 * t143;
  t892 = 0.1e1 / t891;
  t894 = t785 * t892 * t57;
  t898 = t368 * t342 * t347;
  t902 = t142 * t160 * t354;
  t906 = my_piecewise3(t49, 0, -0.3e1 / 0.2192e4 * t779 * t162 - t857 / 0.1096e4 + t884 * t400 / 0.548e3 + t338 * t404 / 0.274e3 + t836 + t864 / 0.1644e4 + t868 / 0.822e3 + t141 * t894 / 0.1644e4 - 0.5e1 / 0.1096e4 * t396 * t898 - 0.7e1 / 0.1644e4 * t141 * t902);
  tv3rho2sigma8 = t6 * t906 + 0.2e1 * t408;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rho2sigma[ip*p->dim.v3rho2sigma + 8] += tv3rho2sigma8;

  t911 = t202 * t414 / 0.8768e4;
  t914 = t511 * t154 / t466;
  t918 = t206 * t410 * t370;
  t924 = t202 * t420 / 0.4384e4;
  t926 = t93 * t418 * t96;
  t930 = my_piecewise3(t1, 0, -0.3e1 / 0.8768e4 * t192 * t414 - t911 - t92 * t914 / 0.4384e4 + t92 * t918 / 0.2192e4 + 0.3e1 / 0.4384e4 * t192 * t420 + t924 - t92 * t926 / 0.1096e4);
  tv3rhosigma20 = t6 * t930 + t424;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 0] += tv3rhosigma20;

  tv3rhosigma21 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 1] += tv3rhosigma21;

  tv3rhosigma22 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 2] += tv3rhosigma22;

  tv3rhosigma23 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 3] += tv3rhosigma23;

  tv3rhosigma24 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 4] += tv3rhosigma24;

  t935 = t297 * t429 / 0.8768e4;
  t939 = t297 * t435 / 0.4384e4;
  t941 = my_piecewise3(t49, 0, -0.3e1 / 0.8768e4 * t294 * t429 - t935 + 0.3e1 / 0.4384e4 * t294 * t435 + t939);
  tv3rhosigma25 = t6 * t941 + t439;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 5] += tv3rhosigma25;

  t948 = my_piecewise3(t1, 0, -0.3e1 / 0.8768e4 * t269 * t414 - t911 + 0.3e1 / 0.4384e4 * t269 * t420 + t924);
  tv3rhosigma26 = t6 * t948 + t424;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 6] += tv3rhosigma26;

  tv3rhosigma27 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 7] += tv3rhosigma27;

  tv3rhosigma28 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 8] += tv3rhosigma28;

  tv3rhosigma29 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 9] += tv3rhosigma29;

  tv3rhosigma210 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 10] += tv3rhosigma210;

  t954 = t785 * t160 / t744;
  t958 = t343 * t425 * t398;
  t964 = t142 * t433 * t145;
  t968 = my_piecewise3(t49, 0, -0.3e1 / 0.8768e4 * t338 * t429 - t935 - t141 * t954 / 0.4384e4 + t141 * t958 / 0.2192e4 + 0.3e1 / 0.4384e4 * t338 * t435 + t939 - t141 * t964 / 0.1096e4);
  tv3rhosigma211 = t6 * t968 + t439;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3rhosigma2[ip*p->dim.v3rhosigma2 + 11] += tv3rhosigma211;

  t970 = 0.1e1 / t207;
  t972 = t511 * t418 * t970;
  t975 = sigma[0] * sigma[0];
  t976 = 0.1e1 / t975;
  t978 = t206 * t976 * t412;
  t982 = 0.1e1 / t34 / t975;
  t984 = t93 * t982 * t37;
  t988 = my_piecewise3(t1, 0, 0.3e1 / 0.35072e5 * t92 * t972 + 0.9e1 / 0.17536e5 * t92 * t978 - 0.9e1 / 0.8768e4 * t92 * t984);
  tv3sigma30 = t6 * t988;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 0] += tv3sigma30;

  tv3sigma31 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 1] += tv3sigma31;

  tv3sigma32 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 2] += tv3sigma32;

  tv3sigma33 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 3] += tv3sigma33;

  tv3sigma34 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 4] += tv3sigma34;

  tv3sigma35 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 5] += tv3sigma35;

  tv3sigma36 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 6] += tv3sigma36;

  tv3sigma37 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 7] += tv3sigma37;

  tv3sigma38 = 0.e0;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 8] += tv3sigma38;

  t989 = 0.1e1 / t344;
  t991 = t785 * t433 * t989;
  t994 = sigma[2] * sigma[2];
  t995 = 0.1e1 / t994;
  t997 = t343 * t995 * t427;
  t1001 = 0.1e1 / t57 / t994;
  t1003 = t142 * t1001 * t60;
  t1007 = my_piecewise3(t49, 0, 0.3e1 / 0.35072e5 * t141 * t991 + 0.9e1 / 0.17536e5 * t141 * t997 - 0.9e1 / 0.8768e4 * t141 * t1003);
  tv3sigma39 = t6 * t1007;

  if(out->v3rho3 != NULL && (p->info->flags & XC_FLAGS_HAVE_KXC))
    out->v3sigma3[ip*p->dim.v3sigma3 + 9] += tv3sigma39;

  t1012 = t5 * t182 * t196 * t44;
  t1016 = t5 * t79 * t451 * t44;
  t1019 = 0.1e1 / t84 / t173;
  t1023 = 0.1e2 / 0.27e2 * t5 * t25 * t1019 * t44;
  t1026 = t5 * t490 * t85 * t44;
  t1028 = t19 * t19;
  t1030 = 0.1e1 / t168 / t1028;
  t1031 = t170 * t170;
  t1037 = t178 * t178;
  t1044 = t16 / t481 / t6;
  t1046 = -0.24e2 * t482 + 0.24e2 * t1044;
  t1047 = my_piecewise5(t10, 0, t14, 0, t1046);
  t1051 = my_piecewise3(t20, 0, 0.4e2 / 0.81e2 * t1030 * t1031 - 0.16e2 / 0.9e1 * t474 * t170 * t178 + 0.4e1 / 0.3e1 * t169 * t1037 + 0.16e2 / 0.9e1 * t478 * t486 + 0.4e1 / 0.3e1 * t23 * t1047);
  t1056 = t202 * t459;
  t1059 = 0.1e1 / t35 / t466;
  t1064 = t499 * t219;
  t1066 = t505 * t219;
  t1068 = t202 * t470;
  t1070 = t207 * t207;
  t1077 = t4 * t490 * t91;
  t1080 = t1012 / 0.2e1 - 0.5e1 / 0.9e1 * t1016 + t1023 - t1026 / 0.2e1 - 0.3e1 / 0.8e1 * t5 * t1051 * t26 * t44 + 0.14e3 / 0.3699e4 * t1056 - 0.455e3 / 0.3699e4 * t92 * t93 * t34 * t1059 - 0.14e2 / 0.411e3 * t1064 + 0.14e2 / 0.1233e4 * t1066 + 0.28e2 / 0.1233e4 * t1068 + 0.28e2 / 0.1233e4 * t92 * t511 * t417 / t1070 + 0.2e1 / 0.137e3 * t1077 * t98;
  t1083 = t499 * t212;
  t1087 = t505 * t212;
  t1089 = t202 * t515;
  t1093 = 0.1e1 / t39 / sigma[0] / t412;
  t1094 = t33 * t1093;
  t1102 = t495 * t201;
  t1103 = t1102 * t98;
  t1105 = t191 * t504;
  t1106 = t1105 * t98;
  t1108 = t451 * t31;
  t1109 = t90 * t1108;
  t1110 = t1109 * t98;
  t1124 = -0.2e1 / 0.137e3 * t496 * t212 - 0.4e1 / 0.411e3 * t1083 - 0.8e1 / 0.1233e4 * t192 * t515 + 0.4e1 / 0.1233e4 * t1087 - 0.8e1 / 0.3699e4 * t1089 - 0.4e1 / 0.1233e4 * t92 * t1094 * t975 / t35 / t1070 / rho[0] + 0.2e1 / 0.137e3 * t1103 - 0.4e1 / 0.411e3 * t1106 + 0.2e2 / 0.3699e4 * t1110 + 0.14e3 / 0.1233e4 * t192 * t459 - 0.427e3 / 0.3699e4 * t92 * t206 * sigma[0] / t208 / t813 - 0.7e1 / 0.137e3 * t496 * t219 + 0.28e2 / 0.411e3 * t192 * t470;
  t1126 = my_piecewise3(t1, 0, t1080 + t1124);
  t1127 = t51 * t51;
  t1129 = 0.1e1 / t224 / t1127;
  t1130 = t226 * t226;
  t1136 = t230 * t230;
  t1142 = my_piecewise5(t14, 0, t10, 0, -t1046);
  t1146 = my_piecewise3(t52, 0, 0.4e2 / 0.81e2 * t1129 * t1130 - 0.16e2 / 0.9e1 * t521 * t226 * t230 + 0.4e1 / 0.3e1 * t225 * t1136 + 0.16e2 / 0.9e1 * t525 * t529 + 0.4e1 / 0.3e1 * t53 * t1142);
  t1153 = t5 * t533 * t85 * t67;
  t1157 = t5 * t234 * t196 * t67;
  t1161 = t5 * t107 * t451 * t67;
  t1166 = 0.1e2 / 0.27e2 * t5 * t55 * t1019 * t67;
  t1168 = my_piecewise3(t49, 0, -0.3e1 / 0.8e1 * t5 * t1146 * t26 * t67 - t1153 / 0.2e1 + t1157 / 0.2e1 - 0.5e1 / 0.9e1 * t1161 + t1166);
  tv4rho40 = 0.4e1 * t519 + 0.4e1 * t551 + t6 * (t1126 + t1168);

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho4[ip*p->dim.v4rho4 + 0] += tv4rho40;

  t1175 = t5 * t571 * t85 * t44;
  t1179 = t5 * t259 * t196 * t44;
  t1180 = t1179 / 0.4e1;
  t1183 = t5 * t124 * t451 * t44;
  t1201 = 0.12e2 * t482;
  t1202 = 0.24e2 * t1044;
  t1203 = -t1201 + t1202;
  t1204 = my_piecewise5(t10, 0, t14, 0, t1203);
  t1208 = my_piecewise3(t20, 0, 0.4e2 / 0.81e2 * t1030 * t121 * t475 - 0.8e1 / 0.9e1 * t474 * t255 * t170 - 0.8e1 / 0.9e1 * t556 * t76 * t178 + 0.4e1 / 0.3e1 * t169 * t567 * t76 + 0.4e1 / 0.3e1 * t559 * t178 + 0.4e1 / 0.9e1 * t251 * t486 + 0.4e1 / 0.3e1 * t23 * t1204);
  t1217 = t4 * t571 * t91;
  t1220 = t580 * t201;
  t1221 = t1220 * t98;
  t1225 = t268 * t504;
  t1226 = t1225 * t98;
  t1227 = t1226 / 0.411e3;
  t1228 = t588 * t212;
  t1232 = -0.3e1 / 0.8e1 * t1175 + t1180 - 0.5e1 / 0.36e2 * t1183 - 0.3e1 / 0.8e1 * t5 * t1208 * t26 * t44 + t1012 / 0.4e1 - 0.5e1 / 0.12e2 * t1016 + t1023 - t1026 / 0.8e1 + 0.3e1 / 0.274e3 * t1217 * t98 + t1221 / 0.137e3 - t581 * t212 / 0.137e3 - t1227 - t1228 / 0.411e3 - 0.2e1 / 0.1233e4 * t269 * t515;
  t1245 = t588 * t219;
  t1251 = 0.35e2 / 0.3699e4 * t1056 - 0.7e1 / 0.822e3 * t1064 + 0.7e1 / 0.1233e4 * t1066 + 0.7e1 / 0.1233e4 * t1068 - t1083 / 0.411e3 + 0.2e1 / 0.1233e4 * t1087 - 0.2e1 / 0.3699e4 * t1089 + t1103 / 0.274e3 - 0.2e1 / 0.411e3 * t1106 + 0.5e1 / 0.1233e4 * t1110 - 0.7e1 / 0.274e3 * t581 * t219 - 0.7e1 / 0.822e3 * t1245 + 0.7e1 / 0.411e3 * t269 * t470 + 0.35e2 / 0.1233e4 * t269 * t459;
  t1253 = my_piecewise3(t1, 0, t1232 + t1251);
  t1271 = my_piecewise5(t14, 0, t10, 0, -t1203);
  t1275 = my_piecewise3(t52, 0, 0.4e2 / 0.81e2 * t1129 * t132 * t522 - 0.8e1 / 0.9e1 * t521 * t279 * t226 - 0.8e1 / 0.9e1 * t603 * t104 * t230 + 0.4e1 / 0.3e1 * t225 * t612 * t104 + 0.4e1 / 0.3e1 * t606 * t230 + 0.4e1 / 0.9e1 * t276 * t529 + 0.4e1 / 0.3e1 * t53 * t1271);
  t1282 = t5 * t616 * t85 * t67;
  t1286 = t5 * t283 * t196 * t67;
  t1287 = t1286 / 0.4e1;
  t1290 = t5 * t135 * t451 * t67;
  t1296 = t4 * t533 * t91;
  t1299 = t631 * t201;
  t1300 = t1299 * t147;
  t1302 = t293 * t504;
  t1303 = t1302 * t147;
  t1304 = t1303 / 0.411e3;
  t1305 = t140 * t1108;
  t1306 = t1305 * t147;
  t1308 = -0.3e1 / 0.8e1 * t5 * t1275 * t26 * t67 - 0.3e1 / 0.8e1 * t1282 + t1287 - 0.5e1 / 0.36e2 * t1290 - t1153 / 0.8e1 + t1157 / 0.4e1 - 0.5e1 / 0.12e2 * t1161 + t1166 + t1296 * t147 / 0.274e3 + t1300 / 0.274e3 - t1304 + 0.5e1 / 0.3699e4 * t1306;
  t1309 = my_piecewise3(t49, 0, t1308);
  tv4rho41 = t519 + t551 + 0.3e1 * t602 + 0.3e1 * t642 + t6 * (t1253 + t1309);

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho4[ip*p->dim.v4rho4 + 1] += tv4rho41;

  t1318 = t5 * t658 * t85 * t44;
  t1322 = t5 * t315 * t196 * t44;
  t1329 = t4 * t658 * t91;
  t1332 = t667 * t201;
  t1333 = t1332 * t98;
  t1357 = t255 * t255;
  t1370 = my_piecewise5(t10, 0, t14, 0, t1202);
  t1374 = my_piecewise3(t20, 0, 0.4e2 / 0.81e2 * t1030 * t306 * t170 - 0.32e2 / 0.27e2 * t556 * t76 * t255 - 0.8e1 / 0.27e2 * t645 * t178 + 0.8e1 / 0.9e1 * t169 * t1357 + 0.8e1 / 0.9e1 * t251 * t567 - 0.8e1 / 0.27e2 * t474 * t311 * t170 + 0.8e1 / 0.9e1 * t169 * t654 * t76 + 0.4e1 / 0.9e1 * t650 * t178 + 0.4e1 / 0.3e1 * t23 * t1370);
  t1379 = -0.2e1 / 0.1233e4 * t1228 + 0.2e1 / 0.3699e4 * t1087 - 0.2e1 / 0.1233e4 * t1106 + 0.1e2 / 0.3699e4 * t1110 - t1175 / 0.4e1 + t1179 / 0.3e1 - 0.5e1 / 0.18e2 * t1183 + t1012 / 0.12e2 - 0.5e1 / 0.18e2 * t1016 + t1023 - 0.3e1 / 0.8e1 * t5 * t1374 * t26 * t44;
  t1381 = my_piecewise3(t1, 0, -t1318 / 0.4e1 + t1322 / 0.12e2 - 0.7e1 / 0.822e3 * t668 * t219 - 0.7e1 / 0.1233e4 * t1245 + 0.7e1 / 0.3699e4 * t1066 + t1329 * t98 / 0.137e3 + t1333 / 0.411e3 - t668 * t212 / 0.411e3 + 0.2e1 / 0.411e3 * t1221 - 0.4e1 / 0.1233e4 * t1226 + t1379);
  t1384 = t5 * t689 * t85 * t67;
  t1388 = t5 * t331 * t196 * t67;
  t1390 = t638 * t349;
  t1392 = t635 * t356;
  t1394 = t638 * t356;
  t1396 = t699 * t201;
  t1397 = t1396 * t147;
  t1399 = t337 * t504;
  t1400 = t1399 * t147;
  t1402 = t635 * t349;
  t1413 = t4 * t616 * t91;
  t1429 = t279 * t279;
  t1442 = my_piecewise5(t14, 0, t10, 0, -t1202);
  t1446 = my_piecewise3(t52, 0, 0.4e2 / 0.81e2 * t1129 * t323 * t226 - 0.32e2 / 0.27e2 * t603 * t104 * t279 - 0.8e1 / 0.27e2 * t676 * t230 + 0.8e1 / 0.9e1 * t225 * t1429 + 0.8e1 / 0.9e1 * t276 * t612 - 0.8e1 / 0.27e2 * t521 * t327 * t226 + 0.8e1 / 0.9e1 * t225 * t685 * t104 + 0.4e1 / 0.9e1 * t681 * t230 + 0.4e1 / 0.3e1 * t53 * t1442);
  t1451 = 0.1e2 / 0.3699e4 * t1306 - t632 * t349 / 0.411e3 - 0.7e1 / 0.822e3 * t632 * t356 + t1413 * t147 / 0.137e3 - t1282 / 0.4e1 + t1286 / 0.3e1 - 0.5e1 / 0.18e2 * t1290 + t1157 / 0.12e2 - 0.5e1 / 0.18e2 * t1161 + t1166 - 0.3e1 / 0.8e1 * t5 * t1446 * t26 * t67;
  t1453 = my_piecewise3(t49, 0, -t1384 / 0.4e1 + t1388 / 0.12e2 + 0.2e1 / 0.3699e4 * t1390 - 0.7e1 / 0.1233e4 * t1392 + 0.7e1 / 0.3699e4 * t1394 + 0.2e1 / 0.411e3 * t1397 - 0.2e1 / 0.1233e4 * t1400 - 0.2e1 / 0.1233e4 * t1402 + t1300 / 0.411e3 - 0.4e1 / 0.1233e4 * t1303 + t1451);
  tv4rho42 = 0.2e1 * t602 + 0.2e1 * t642 + 0.2e1 * t675 + 0.2e1 * t717 + t6 * (t1381 + t1453);

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho4[ip*p->dim.v4rho4 + 2] += tv4rho42;

  t1473 = t1201 + t1202;
  t1474 = my_piecewise5(t10, 0, t14, 0, t1473);
  t1478 = my_piecewise3(t20, 0, 0.4e2 / 0.81e2 * t1030 * t722 * t76 - 0.8e1 / 0.9e1 * t645 * t255 - 0.8e1 / 0.9e1 * t556 * t311 * t76 + 0.4e1 / 0.3e1 * t559 * t311 + 0.4e1 / 0.3e1 * t251 * t654 + 0.4e1 / 0.9e1 * t169 * t729 * t76 + 0.4e1 / 0.3e1 * t23 * t1474);
  t1485 = t5 * t733 * t85 * t44;
  t1488 = t4 * t733 * t91;
  t1497 = -0.3e1 / 0.8e1 * t5 * t1478 * t26 * t44 - t1485 / 0.8e1 + t1488 * t98 / 0.274e3 - 0.3e1 / 0.8e1 * t1318 + t1322 / 0.4e1 + t1333 / 0.274e3 + t1180 - 0.5e1 / 0.12e2 * t1183 - t1227 - 0.5e1 / 0.36e2 * t1016 + t1023 + 0.5e1 / 0.3699e4 * t1110;
  t1498 = my_piecewise3(t1, 0, t1497);
  t1515 = my_piecewise5(t14, 0, t10, 0, -t1473);
  t1519 = my_piecewise3(t52, 0, 0.4e2 / 0.81e2 * t1129 * t763 * t104 - 0.8e1 / 0.9e1 * t676 * t279 - 0.8e1 / 0.9e1 * t603 * t327 * t104 + 0.4e1 / 0.3e1 * t606 * t327 + 0.4e1 / 0.3e1 * t276 * t685 + 0.4e1 / 0.9e1 * t225 * t769 * t104 + 0.4e1 / 0.3e1 * t53 * t1515);
  t1526 = t5 * t773 * t85 * t67;
  t1532 = t297 * t748;
  t1535 = t4 * t689 * t91;
  t1546 = -0.3e1 / 0.8e1 * t5 * t1519 * t26 * t67 - t1526 / 0.8e1 - 0.3e1 / 0.8e1 * t1384 + t1388 / 0.4e1 - 0.5e1 / 0.36e2 * t1161 + t1166 + t1287 - 0.5e1 / 0.12e2 * t1290 + 0.7e1 / 0.1233e4 * t1532 + 0.3e1 / 0.274e3 * t1535 * t147 - t700 * t349 / 0.137e3 - 0.2e1 / 0.1233e4 * t294 * t789 + 0.7e1 / 0.411e3 * t294 * t748 + 0.35e2 / 0.1233e4 * t294 * t754;
  t1555 = t703 * t349;
  t1557 = t297 * t789;
  t1559 = t297 * t754;
  t1561 = t703 * t356;
  t1563 = t778 * t201;
  t1564 = t1563 * t147;
  t1567 = -0.7e1 / 0.274e3 * t700 * t356 + 0.2e1 / 0.1233e4 * t1390 - 0.7e1 / 0.822e3 * t1392 + 0.7e1 / 0.1233e4 * t1394 + t1397 / 0.137e3 - 0.2e1 / 0.411e3 * t1400 - t1402 / 0.411e3 - t1555 / 0.411e3 - 0.2e1 / 0.3699e4 * t1557 + 0.35e2 / 0.3699e4 * t1559 - 0.7e1 / 0.822e3 * t1561 + t1564 / 0.274e3 - t1304 + 0.5e1 / 0.1233e4 * t1306;
  t1569 = my_piecewise3(t49, 0, t1546 + t1567);
  tv4rho43 = 0.3e1 * t675 + 0.3e1 * t717 + t741 + t793 + t6 * (t1498 + t1569);

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho4[ip*p->dim.v4rho4 + 3] += tv4rho43;

  t1574 = t306 * t306;
  t1579 = t311 * t311;
  t1585 = 0.24e2 * t482 + 0.24e2 * t1044;
  t1586 = my_piecewise5(t10, 0, t14, 0, t1585);
  t1590 = my_piecewise3(t20, 0, 0.4e2 / 0.81e2 * t1030 * t1574 - 0.16e2 / 0.9e1 * t645 * t311 + 0.4e1 / 0.3e1 * t169 * t1579 + 0.16e2 / 0.9e1 * t251 * t729 + 0.4e1 / 0.3e1 * t23 * t1586);
  t1599 = my_piecewise3(t1, 0, -0.3e1 / 0.8e1 * t5 * t1590 * t26 * t44 - t1485 / 0.2e1 + t1322 / 0.2e1 - 0.5e1 / 0.9e1 * t1183 + t1023);
  t1601 = t323 * t323;
  t1606 = t327 * t327;
  t1612 = my_piecewise5(t14, 0, t10, 0, -t1585);
  t1616 = my_piecewise3(t52, 0, 0.4e2 / 0.81e2 * t1129 * t1601 - 0.16e2 / 0.9e1 * t676 * t327 + 0.4e1 / 0.3e1 * t225 * t1606 + 0.16e2 / 0.9e1 * t276 * t769 + 0.4e1 / 0.3e1 * t53 * t1612);
  t1623 = t344 * t344;
  t1635 = 0.1e1 / t58 / t744;
  t1647 = t4 * t773 * t91;
  t1650 = -t1526 / 0.2e1 - 0.3e1 / 0.8e1 * t5 * t1616 * t26 * t67 + t1388 / 0.2e1 + t1166 - 0.5e1 / 0.9e1 * t1290 + 0.28e2 / 0.1233e4 * t141 * t785 * t432 / t1623 + 0.14e3 / 0.1233e4 * t338 * t754 - 0.7e1 / 0.137e3 * t779 * t356 + 0.28e2 / 0.1233e4 * t1532 - 0.455e3 / 0.3699e4 * t141 * t142 * t57 * t1635 - 0.427e3 / 0.3699e4 * t141 * t343 * sigma[2] / t345 / t891 + 0.2e1 / 0.137e3 * t1647 * t147;
  t1657 = 0.1e1 / t62 / sigma[2] / t427;
  t1658 = t33 * t1657;
  t1677 = -0.2e1 / 0.137e3 * t779 * t349 - 0.8e1 / 0.1233e4 * t338 * t789 - 0.4e1 / 0.1233e4 * t141 * t1658 * t994 / t58 / t1623 / rho[1] + 0.28e2 / 0.411e3 * t338 * t748 + 0.4e1 / 0.1233e4 * t1390 + 0.14e2 / 0.1233e4 * t1394 - 0.4e1 / 0.411e3 * t1400 - 0.4e1 / 0.411e3 * t1555 - 0.8e1 / 0.3699e4 * t1557 + 0.14e3 / 0.3699e4 * t1559 - 0.14e2 / 0.411e3 * t1561 + 0.2e1 / 0.137e3 * t1564 + 0.2e2 / 0.3699e4 * t1306;
  t1679 = my_piecewise3(t49, 0, t1650 + t1677);
  tv4rho44 = 0.4e1 * t741 + 0.4e1 * t793 + t6 * (t1599 + t1679);

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho4[ip*p->dim.v4rho4 + 4] += tv4rho44;

  t1694 = 0.5e1 / 0.9864e4 * t1109 * t156;
  t1695 = t505 * t376;
  t1697 = t202 * t824;
  t1699 = t1102 * t156;
  t1703 = t1105 * t156;
  t1705 = t499 * t376;
  t1723 = t808 * t820;
  t1725 = t202 * t816;
  t1731 = t191 * t85 * t372;
  t1734 = t90 * t196 * t372;
  t1736 = -0.11e2 / 0.1644e4 * t92 * t511 * t513 * t34 + 0.35e2 / 0.2466e4 * t92 * t93 * t154 * t457 - 0.7e1 / 0.548e3 * t192 * t824 - t1694 - t1695 / 0.822e3 - 0.7e1 / 0.1644e4 * t1697 - 0.3e1 / 0.2192e4 * t1699 + 0.3e1 / 0.548e3 * t496 * t376 + t1703 / 0.1096e4 + t1705 / 0.274e3 + t92 * t1094 / t35 / t1070 * sigma[0] / 0.822e3 + 0.119e3 / 0.4932e4 * t367 * t368 * t205 * t468 - 0.3e1 / 0.2192e4 * t1077 * t156 - 0.15e2 / 0.1096e4 * t801 * t820 + t192 * t816 / 0.548e3 - 0.5e1 / 0.1096e4 * t1723 + t1725 / 0.1644e4 + 0.3e1 / 0.1096e4 * t495 * t26 * t372 + t1731 / 0.548e3 - t1734 / 0.1644e4;
  t1737 = my_piecewise3(t1, 0, t1736);
  tv4rho3sigma0 = t6 * t1737 + 0.3e1 * t828;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho3sigma[ip*p->dim.v4rho3sigma + 0] += tv4rho3sigma0;

  tv4rho3sigma1 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho3sigma[ip*p->dim.v4rho3sigma + 1] += tv4rho3sigma1;

  t1742 = t1299 * t162;
  t1744 = t1302 * t162;
  t1747 = 0.5e1 / 0.9864e4 * t1305 * t162;
  t1749 = my_piecewise3(t49, 0, -0.3e1 / 0.2192e4 * t1296 * t162 - 0.3e1 / 0.2192e4 * t1742 + t1744 / 0.1096e4 - t1747);
  tv4rho3sigma2 = t6 * t1749 + 0.3e1 * t838;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho3sigma[ip*p->dim.v4rho3sigma + 2] += tv4rho3sigma2;

  t1751 = 0.2e1 * t853;
  t1752 = t1225 * t156;
  t1755 = t588 * t376 / 0.822e3;
  t1759 = t1220 * t156 / 0.1096e4;
  t1782 = t268 * t85 * t372 / 0.1644e4;
  t1783 = t1752 / 0.3288e4 + t1755 - 0.7e1 / 0.1644e4 * t269 * t824 - t1759 + t581 * t376 / 0.274e3 - t1694 - t1695 / 0.1233e4 - 0.7e1 / 0.4932e4 * t1697 - t1699 / 0.2192e4 + t1703 / 0.1644e4 + t1705 / 0.822e3 - 0.3e1 / 0.2192e4 * t1217 * t156 - 0.5e1 / 0.1096e4 * t844 * t820 + t269 * t816 / 0.1644e4 - 0.5e1 / 0.3288e4 * t1723 + t1725 / 0.4932e4 + t1731 / 0.1644e4 - t1734 / 0.2466e4 + t580 * t26 * t372 / 0.548e3 + t1782;
  t1784 = my_piecewise3(t1, 0, t1783);
  tv4rho3sigma3 = t6 * t1784 + t1751 + t828;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho3sigma[ip*p->dim.v4rho3sigma + 3] += tv4rho3sigma3;

  tv4rho3sigma4 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho3sigma[ip*p->dim.v4rho3sigma + 4] += tv4rho3sigma4;

  t1786 = 0.2e1 * t871;
  t1790 = t1396 * t162 / 0.1096e4;
  t1791 = t1399 * t162;
  t1800 = t293 * t85 * t400 / 0.1644e4;
  t1802 = t140 * t196 * t400;
  t1807 = t635 * t404 / 0.822e3;
  t1808 = t638 * t404;
  t1810 = -0.3e1 / 0.2192e4 * t1413 * t162 - t1790 + t1791 / 0.3288e4 - t1742 / 0.2192e4 + t1744 / 0.1644e4 - t1747 + t631 * t26 * t400 / 0.1096e4 + t1800 - t1802 / 0.4932e4 + t632 * t404 / 0.548e3 + t1807 - t1808 / 0.2466e4;
  t1811 = my_piecewise3(t49, 0, t1810);
  tv4rho3sigma5 = t6 * t1811 + t1786 + t838;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho3sigma[ip*p->dim.v4rho3sigma + 5] += tv4rho3sigma5;

  t1815 = t1332 * t156;
  t1826 = -0.3e1 / 0.2192e4 * t1329 * t156 - t1815 / 0.2192e4 + t667 * t26 * t372 / 0.1096e4 + t668 * t376 / 0.548e3 - t1759 + t1752 / 0.1644e4 + t1782 + t1755 + t1703 / 0.3288e4 - t1694 - t1734 / 0.4932e4 - t1695 / 0.2466e4;
  t1827 = my_piecewise3(t1, 0, t1826);
  tv4rho3sigma6 = t6 * t1827 + t1751 + t878;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho3sigma[ip*p->dim.v4rho3sigma + 6] += tv4rho3sigma6;

  tv4rho3sigma7 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho3sigma[ip*p->dim.v4rho3sigma + 7] += tv4rho3sigma7;

  t1831 = t1563 * t162;
  t1838 = t337 * t85 * t400;
  t1842 = t703 * t404;
  t1849 = t297 * t894;
  t1853 = t863 * t898;
  t1857 = t297 * t902;
  t1859 = -0.3e1 / 0.2192e4 * t1535 * t162 - t1831 / 0.2192e4 - t1790 + t1791 / 0.1644e4 + t699 * t26 * t400 / 0.548e3 + t1838 / 0.1644e4 + t700 * t404 / 0.274e3 + t1842 / 0.822e3 + t1744 / 0.3288e4 - t1747 + t1800 - t1802 / 0.2466e4 + t1807 - t1808 / 0.1233e4 + t294 * t894 / 0.1644e4 + t1849 / 0.4932e4 - 0.5e1 / 0.1096e4 * t860 * t898 - 0.5e1 / 0.3288e4 * t1853 - 0.7e1 / 0.1644e4 * t294 * t902 - 0.7e1 / 0.4932e4 * t1857;
  t1860 = my_piecewise3(t49, 0, t1859);
  tv4rho3sigma8 = t6 * t1860 + t1786 + t906;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho3sigma[ip*p->dim.v4rho3sigma + 8] += tv4rho3sigma8;

  t1868 = my_piecewise3(t1, 0, -0.3e1 / 0.2192e4 * t1488 * t156 - 0.3e1 / 0.2192e4 * t1815 + t1752 / 0.1096e4 - t1694);
  tv4rho3sigma9 = t6 * t1868 + 0.3e1 * t878;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho3sigma[ip*p->dim.v4rho3sigma + 9] += tv4rho3sigma9;

  tv4rho3sigma10 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho3sigma[ip*p->dim.v4rho3sigma + 10] += tv4rho3sigma10;

  t1911 = t141 * t1658 / t58 / t1623 * sigma[2] / 0.822e3 + 0.119e3 / 0.4932e4 * t396 * t368 * t342 * t746 - 0.3e1 / 0.2192e4 * t1647 * t162 - 0.15e2 / 0.1096e4 * t884 * t898 + t338 * t894 / 0.548e3 + 0.35e2 / 0.2466e4 * t141 * t142 * t160 * t752 - 0.7e1 / 0.548e3 * t338 * t902 - 0.11e2 / 0.1644e4 * t141 * t785 * t787 * t57 + 0.3e1 / 0.548e3 * t779 * t404 + t1842 / 0.274e3 + t1849 / 0.1644e4 - 0.7e1 / 0.1644e4 * t1857 - 0.3e1 / 0.2192e4 * t1831 + t1791 / 0.1096e4 - t1808 / 0.822e3 - t1747 + t1838 / 0.548e3 - 0.5e1 / 0.1096e4 * t1853 - t1802 / 0.1644e4 + 0.3e1 / 0.1096e4 * t778 * t26 * t400;
  t1912 = my_piecewise3(t49, 0, t1911);
  tv4rho3sigma11 = t6 * t1912 + 0.3e1 * t906;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho3sigma[ip*p->dim.v4rho3sigma + 11] += tv4rho3sigma11;

  t1921 = t202 * t914;
  t1923 = t202 * t926;
  t1929 = t202 * t918;
  t1939 = t499 * t420;
  t1944 = t505 * t420 / 0.6576e4;
  t1945 = t499 * t414;
  t1950 = t505 * t414 / 0.13152e5;
  t1957 = 0.3e1 / 0.4384e4 * t496 * t420 - 0.3e1 / 0.8768e4 * t496 * t414 - t192 * t914 / 0.2192e4 - t1921 / 0.6576e4 - t1923 / 0.1644e4 + 0.7e1 / 0.3288e4 * t92 * t93 * t418 * t217 + t1929 / 0.3288e4 + 0.19e2 / 0.13152e5 * t92 * t511 * t154 * t814 - 0.7e1 / 0.6576e4 * t92 * t206 * t410 * t210 + t1939 / 0.2192e4 - t192 * t926 / 0.548e3 - t1944 - t1945 / 0.4384e4 + t192 * t918 / 0.1096e4 + t1950 - t367 * t368 * t1093 / t35 / t512 / 0.2192e4;
  t1958 = my_piecewise3(t1, 0, t1957);
  tv4rho2sigma20 = t6 * t1958 + 0.2e1 * t930;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho2sigma2[ip*p->dim.v4rho2sigma2 + 0] += tv4rho2sigma20;

  tv4rho2sigma21 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho2sigma2[ip*p->dim.v4rho2sigma2 + 1] += tv4rho2sigma21;

  tv4rho2sigma22 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho2sigma2[ip*p->dim.v4rho2sigma2 + 2] += tv4rho2sigma22;

  tv4rho2sigma23 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho2sigma2[ip*p->dim.v4rho2sigma2 + 3] += tv4rho2sigma23;

  tv4rho2sigma24 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho2sigma2[ip*p->dim.v4rho2sigma2 + 4] += tv4rho2sigma24;

  t1963 = t635 * t429;
  t1966 = t638 * t429 / 0.13152e5;
  t1969 = t635 * t435;
  t1972 = t638 * t435 / 0.6576e4;
  t1974 = my_piecewise3(t49, 0, -0.3e1 / 0.8768e4 * t632 * t429 - t1963 / 0.4384e4 + t1966 + 0.3e1 / 0.4384e4 * t632 * t435 + t1969 / 0.2192e4 - t1972);
  tv4rho2sigma25 = t6 * t1974 + 0.2e1 * t941;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho2sigma2[ip*p->dim.v4rho2sigma2 + 5] += tv4rho2sigma25;

  t1978 = t588 * t414;
  t1989 = t588 * t420;
  t1995 = -0.3e1 / 0.8768e4 * t581 * t414 - t1978 / 0.8768e4 - t269 * t914 / 0.4384e4 + t269 * t918 / 0.2192e4 - t1945 / 0.8768e4 + t1950 - t1921 / 0.13152e5 + t1929 / 0.6576e4 + 0.3e1 / 0.4384e4 * t581 * t420 + t1989 / 0.4384e4 - t269 * t926 / 0.1096e4 + t1939 / 0.4384e4 - t1944 - t1923 / 0.3288e4;
  t1996 = my_piecewise3(t1, 0, t1995);
  tv4rho2sigma26 = t6 * t1996 + t930 + t948;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho2sigma2[ip*p->dim.v4rho2sigma2 + 6] += tv4rho2sigma26;

  tv4rho2sigma27 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho2sigma2[ip*p->dim.v4rho2sigma2 + 7] += tv4rho2sigma27;

  tv4rho2sigma28 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho2sigma2[ip*p->dim.v4rho2sigma2 + 8] += tv4rho2sigma28;

  tv4rho2sigma29 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho2sigma2[ip*p->dim.v4rho2sigma2 + 9] += tv4rho2sigma29;

  tv4rho2sigma210 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho2sigma2[ip*p->dim.v4rho2sigma2 + 10] += tv4rho2sigma210;

  t2000 = t703 * t429;
  t2005 = t297 * t954;
  t2009 = t297 * t958;
  t2013 = t703 * t435;
  t2018 = t297 * t964;
  t2020 = -0.3e1 / 0.8768e4 * t700 * t429 - t2000 / 0.8768e4 - t1963 / 0.8768e4 + t1966 - t294 * t954 / 0.4384e4 - t2005 / 0.13152e5 + t294 * t958 / 0.2192e4 + t2009 / 0.6576e4 + 0.3e1 / 0.4384e4 * t700 * t435 + t2013 / 0.4384e4 + t1969 / 0.4384e4 - t1972 - t294 * t964 / 0.1096e4 - t2018 / 0.3288e4;
  t2021 = my_piecewise3(t49, 0, t2020);
  tv4rho2sigma211 = t6 * t2021 + t941 + t968;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho2sigma2[ip*p->dim.v4rho2sigma2 + 11] += tv4rho2sigma211;

  t2031 = my_piecewise3(t1, 0, -0.3e1 / 0.8768e4 * t668 * t414 - t1978 / 0.4384e4 + t1950 + 0.3e1 / 0.4384e4 * t668 * t420 + t1989 / 0.2192e4 - t1944);
  tv4rho2sigma212 = t6 * t2031 + 0.2e1 * t948;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho2sigma2[ip*p->dim.v4rho2sigma2 + 12] += tv4rho2sigma212;

  tv4rho2sigma213 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho2sigma2[ip*p->dim.v4rho2sigma2 + 13] += tv4rho2sigma213;

  tv4rho2sigma214 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho2sigma2[ip*p->dim.v4rho2sigma2 + 14] += tv4rho2sigma214;

  tv4rho2sigma215 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho2sigma2[ip*p->dim.v4rho2sigma2 + 15] += tv4rho2sigma215;

  tv4rho2sigma216 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho2sigma2[ip*p->dim.v4rho2sigma2 + 16] += tv4rho2sigma216;

  t2067 = 0.3e1 / 0.4384e4 * t779 * t435 - 0.3e1 / 0.8768e4 * t779 * t429 - t338 * t954 / 0.2192e4 - 0.7e1 / 0.6576e4 * t141 * t343 * t425 * t347 - t338 * t964 / 0.548e3 + 0.7e1 / 0.3288e4 * t141 * t142 * t433 * t354 + t338 * t958 / 0.1096e4 + 0.19e2 / 0.13152e5 * t141 * t785 * t160 * t892 - t2005 / 0.6576e4 + t2009 / 0.3288e4 + t2013 / 0.2192e4 - t2018 / 0.1644e4 - t2000 / 0.4384e4 - t1972 + t1966 - t396 * t368 * t1657 / t58 / t786 / 0.2192e4;
  t2068 = my_piecewise3(t49, 0, t2067);
  tv4rho2sigma217 = t6 * t2068 + 0.2e1 * t968;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rho2sigma2[ip*p->dim.v4rho2sigma2 + 17] += tv4rho2sigma217;

  t2073 = t202 * t972 / 0.35072e5;
  t2083 = 0.3e1 / 0.17536e5 * t202 * t978;
  t2091 = 0.3e1 / 0.8768e4 * t202 * t984;
  t2097 = my_piecewise3(t1, 0, 0.3e1 / 0.35072e5 * t192 * t972 + t2073 + 0.3e1 / 0.17536e5 * t92 * t1094 * t410 / t35 / t813 + 0.9e1 / 0.17536e5 * t192 * t978 + t2083 - 0.3e1 / 0.4384e4 * t92 * t206 * t976 * t370 - 0.9e1 / 0.8768e4 * t192 * t984 - t2091 + 0.3e1 / 0.2192e4 * t92 * t93 * t982 * t96);
  tv4rhosigma30 = t6 * t2097 + t988;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 0] += tv4rhosigma30;

  tv4rhosigma31 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 1] += tv4rhosigma31;

  tv4rhosigma32 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 2] += tv4rhosigma32;

  tv4rhosigma33 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 3] += tv4rhosigma33;

  tv4rhosigma34 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 4] += tv4rhosigma34;

  tv4rhosigma35 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 5] += tv4rhosigma35;

  tv4rhosigma36 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 6] += tv4rhosigma36;

  tv4rhosigma37 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 7] += tv4rhosigma37;

  tv4rhosigma38 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 8] += tv4rhosigma38;

  t2102 = t297 * t991 / 0.35072e5;
  t2106 = 0.3e1 / 0.17536e5 * t297 * t997;
  t2110 = 0.3e1 / 0.8768e4 * t297 * t1003;
  t2112 = my_piecewise3(t49, 0, 0.3e1 / 0.35072e5 * t294 * t991 + t2102 + 0.9e1 / 0.17536e5 * t294 * t997 + t2106 - 0.9e1 / 0.8768e4 * t294 * t1003 - t2110);
  tv4rhosigma39 = t6 * t2112 + t1007;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 9] += tv4rhosigma39;

  t2121 = my_piecewise3(t1, 0, 0.3e1 / 0.35072e5 * t269 * t972 + t2073 + 0.9e1 / 0.17536e5 * t269 * t978 + t2083 - 0.9e1 / 0.8768e4 * t269 * t984 - t2091);
  tv4rhosigma310 = t6 * t2121 + t988;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 10] += tv4rhosigma310;

  tv4rhosigma311 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 11] += tv4rhosigma311;

  tv4rhosigma312 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 12] += tv4rhosigma312;

  tv4rhosigma313 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 13] += tv4rhosigma313;

  tv4rhosigma314 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 14] += tv4rhosigma314;

  tv4rhosigma315 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 15] += tv4rhosigma315;

  tv4rhosigma316 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 16] += tv4rhosigma316;

  tv4rhosigma317 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 17] += tv4rhosigma317;

  tv4rhosigma318 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 18] += tv4rhosigma318;

  t2144 = my_piecewise3(t49, 0, 0.3e1 / 0.35072e5 * t338 * t991 + t2102 + 0.3e1 / 0.17536e5 * t141 * t1658 * t425 / t58 / t891 + 0.9e1 / 0.17536e5 * t338 * t997 + t2106 - 0.3e1 / 0.4384e4 * t141 * t343 * t995 * t398 - 0.9e1 / 0.8768e4 * t338 * t1003 - t2110 + 0.3e1 / 0.2192e4 * t141 * t142 * t1001 * t145);
  tv4rhosigma319 = t6 * t2144 + t1007;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4rhosigma3[ip*p->dim.v4rhosigma3 + 19] += tv4rhosigma319;

  t2154 = t975 * sigma[0];
  t2167 = my_piecewise3(t1, 0, -0.9e1 / 0.140288e6 * t92 * t1094 * t976 * t1059 - 0.9e1 / 0.35072e5 * t92 * t511 * t982 * t970 - 0.45e2 / 0.35072e5 * t92 * t206 / t2154 * t412 + 0.45e2 / 0.17536e5 * t92 * t93 / t34 / t2154 * t37);
  tv4sigma40 = t6 * t2167;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4sigma4[ip*p->dim.v4sigma4 + 0] += tv4sigma40;

  tv4sigma41 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4sigma4[ip*p->dim.v4sigma4 + 1] += tv4sigma41;

  tv4sigma42 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4sigma4[ip*p->dim.v4sigma4 + 2] += tv4sigma42;

  tv4sigma43 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4sigma4[ip*p->dim.v4sigma4 + 3] += tv4sigma43;

  tv4sigma44 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4sigma4[ip*p->dim.v4sigma4 + 4] += tv4sigma44;

  tv4sigma45 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4sigma4[ip*p->dim.v4sigma4 + 5] += tv4sigma45;

  tv4sigma46 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4sigma4[ip*p->dim.v4sigma4 + 6] += tv4sigma46;

  tv4sigma47 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4sigma4[ip*p->dim.v4sigma4 + 7] += tv4sigma47;

  tv4sigma48 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4sigma4[ip*p->dim.v4sigma4 + 8] += tv4sigma48;

  tv4sigma49 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4sigma4[ip*p->dim.v4sigma4 + 9] += tv4sigma49;

  tv4sigma410 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4sigma4[ip*p->dim.v4sigma4 + 10] += tv4sigma410;

  tv4sigma411 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4sigma4[ip*p->dim.v4sigma4 + 11] += tv4sigma411;

  tv4sigma412 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4sigma4[ip*p->dim.v4sigma4 + 12] += tv4sigma412;

  tv4sigma413 = 0.e0;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4sigma4[ip*p->dim.v4sigma4 + 13] += tv4sigma413;

  t2176 = t994 * sigma[2];
  t2189 = my_piecewise3(t49, 0, -0.9e1 / 0.140288e6 * t141 * t1658 * t995 * t1635 - 0.9e1 / 0.35072e5 * t141 * t785 * t1001 * t989 - 0.45e2 / 0.35072e5 * t141 * t343 / t2176 * t427 + 0.45e2 / 0.17536e5 * t141 * t142 / t57 / t2176 * t60);
  tv4sigma414 = t6 * t2189;

  if(out->v4rho4 != NULL && (p->info->flags & XC_FLAGS_HAVE_LXC))
    out->v4sigma4[ip*p->dim.v4sigma4 + 14] += tv4sigma414;

}

#endif

